<!DOCTYPE html>
<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="mbinary">



<meta name="description" content="记录一些 编程题目, 大多数是用 leetcoode 上的, 使用的语言主要是 pythonmy profile @leetcode 分类目录数学 Nth-digit Single-Number super-pow 2-Keys-Keyboard 4Sum-II Gray-Code Bulb switch bitwise-and-of-numbers-range numbers-at-most-">
<meta property="og:type" content="website">
<meta property="og:title" content="leetcode">
<meta property="og:url" content="https://mbinary.xyz/leetcode/index.html">
<meta property="og:site_name" content="mbinary&#39;s blog">
<meta property="og:description" content="记录一些 编程题目, 大多数是用 leetcoode 上的, 使用的语言主要是 pythonmy profile @leetcode 分类目录数学 Nth-digit Single-Number super-pow 2-Keys-Keyboard 4Sum-II Gray-Code Bulb switch bitwise-and-of-numbers-range numbers-at-most-">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://leetcode.com/static/images/problemset/knight.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:image" content="https://mbinary.xyz/uploads/divider.png">
<meta property="og:updated_time" content="2019-02-08T10:25:55.163Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="leetcode">
<meta name="twitter:description" content="记录一些 编程题目, 大多数是用 leetcoode 上的, 使用的语言主要是 pythonmy profile @leetcode 分类目录数学 Nth-digit Single-Number super-pow 2-Keys-Keyboard 4Sum-II Gray-Code Bulb switch bitwise-and-of-numbers-range numbers-at-most-">
<meta name="twitter:image" content="https://mbinary.xyz/uploads/divider.png">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="mbinary&#39;s blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/yinyang.ico">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>leetcode | mbinary&#39;s blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->






</head></html>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">mbinary</a></h1>
        </hgroup>

        
        <p class="header-subtitle">淡泊明志, 宁静致远</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="Let me search for you>_<" class="search form-control" autocomplete="off" autocorrect="off" searchonload="false">
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class="no-result">No results found <i class="fa fa-spinner fa-pulse"></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/archives/">归档</a></li>
                        
                            <li><a href="/tags/">标签</a></li>
                        
                            <li><a href="/leetcode/">编程</a></li>
                        
                            <li><a href="/about/">关于</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Github" href="https://github.com/mbinary" title="Github"></a>
                            
                                <a class="fa Leetcode" href="https://leetcode-cn.com/mbinary/" title="Leetcode"></a>
                            
                                <a class="fa LinkedIn" href="http://www.linkedin.com/in/cs-heqin-zhu" title="LinkedIn"></a>
                            
                                <a class="fa Email" href="mailto:zhuheqin1@gmail.com" title="Email"></a>
                            
                                <a class="fa QQ" href="http://wpa.qq.com/msgrd?v=3&uin=414313516&site=qq&menu=yes" title="QQ"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/B树/">B树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KMP/">KMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/USTC/">USTC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/api/">api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/common-lisp/">common lisp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macro/">macro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人际交往/">人际交往</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分享/">分享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态规划/">动态规划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区块链/">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图/">图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/娱乐/">娱乐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串匹配/">字符串匹配</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/室友/">室友</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/影视/">影视</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/惰性学习/">惰性学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序/">排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/操作系统/">操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/散列表/">散列表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数字货币/">数字货币</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学/">数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数论/">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/斐波那契堆/">斐波那契堆</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机械键盘/">机械键盘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树/">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/比特币/">比特币</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/汇编/">汇编</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活/">生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/红黑树/">红黑树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机组成原理/">计算机组成原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书笔记/">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/逆向/">逆向</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择/">选择</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/黑客/">黑客</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://mbinary.xyz/links/">交换友链说明</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://www.4spaces.org">4spaces</a>
                    
                    </div>
                </section>
                

                
            </div>
        </div>
    </header>                
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">mbinary</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">mbinary</a></h1>
            </hgroup>
            
            <p class="header-subtitle">淡泊明志, 宁静致远</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">归档</a></li>
                
                    <li><a href="/tags/">标签</a></li>
                
                    <li><a href="/leetcode/">编程</a></li>
                
                    <li><a href="/about/">关于</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Github" target="_blank" href="https://github.com/mbinary" title="Github"></a>
                            
                                <a class="fa Leetcode" target="_blank" href="https://leetcode-cn.com/mbinary/" title="Leetcode"></a>
                            
                                <a class="fa LinkedIn" target="_blank" href="http://www.linkedin.com/in/cs-heqin-zhu" title="LinkedIn"></a>
                            
                                <a class="fa Email" target="_blank" href="mailto:zhuheqin1@gmail.com" title="Email"></a>
                            
                                <a class="fa QQ" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=414313516&site=qq&menu=yes" title="QQ"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我">
</nav>
      <div class="body-wrap"><article id="page-" class="article article-type-page" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/leetcode/index.html" class="article-date">
      <time datetime="2019-02-08T10:25:55.163Z" itemprop="datePublished">2019-02-08</time>
</a>



    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      leetcode
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <style>
    .article-meta { display: none; }
    #container .article .article-title { padding-right: 0; }
    .article-header {
        padding: 0;
        padding-top: 26px;
        border-left: none;
        text-align: center;
    }
    .article-header:hover { border-left: none; }
    .article-title { font-size: 1.6em }
    .article-entry hr { margin: 0;}
    .article-meta,
    #container .article-info-post.article-info { display: none;}
    #container .article .article-title { padding: 0; }
</style>



          
        <script src="/assets/js/APlayer.min.js"> </script><p>记录一些 编程题目, 大多数是用 leetcoode 上的, 使用的语言主要是 python<br><a href="https://leetcode-cn.com/mbinary/" target="_blank" rel="noopener">my profile</a> @leetcode</p>
<h1 id="分类目录"><a href="#分类目录" class="headerlink" title="分类目录"></a>分类目录</h1><h2 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h2><ul>
<li><a href="#Nth-digit">Nth-digit</a></li>
<li><a href="#Single-Number">Single-Number</a></li>
<li><a href="#super-pow">super-pow</a></li>
<li><a href="#2-Keys-Keyboard">2-Keys-Keyboard</a></li>
<li><a href="#4Sum-II">4Sum-II</a></li>
<li><a href="#Gray-Code">Gray-Code</a></li>
<li><a href="#bulb-switch">Bulb switch</a></li>
<li><a href="#bitwise-and-of-numbers-range">bitwise-and-of-numbers-range</a></li>
<li><a href="#numbers-at-most-n-given-digit">numbers-at-most-n-given-digit</a></li>
<li><a href="#minimum-area-rectangle">minimum-area-rectangle</a></li>
</ul>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><ul>
<li><a href="#3Sum">3Sum</a></li>
<li><a href="#word-search">word-search</a></li>
<li><a href="#八数码">八数码</a></li>
<li><a href="#01-Matrix">01-Matrix</a></li>
<li><a href="#24-Game">24-Game</a></li>
<li><a href="#Remove-Invalid-Parentheses">Remove-Invalid-Parentheses</a></li>
<li><a href="#Valid-Triangle-Number">Valid-Triangle-Number</a></li>
</ul>
<h2 id="回溯"><a href="#回溯" class="headerlink" title="回溯"></a>回溯</h2><ul>
<li><a href="#N-Queens">N-Queens</a></li>
<li><a href="#Partition-to-K-Equal-Sum-Subsets">Partition-to-K-Equal-Sum-Subsets</a></li>
</ul>
<h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><ul>
<li><a href="#Evaluate-Division">Evaluate-Division</a></li>
<li><a href="#Redundant-Connection">Redundant-Connection</a></li>
<li><a href="#Clone-Graph">Clone-Graph</a></li>
</ul>
<h2 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h2><ul>
<li><a href="#All-Oone-Data-Structure">All-Oone-Data-Structure</a></li>
</ul>
<h2 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h2><ul>
<li><a href="#Daily-Temperatures">Daily-Temperatures-monotonous stack</a></li>
</ul>
<h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><ul>
<li><a href="#Top-K-Frequent-Words">Top-K-Frequent-Words</a></li>
<li><a href="#Design-Twitter">Design-Twitter</a></li>
<li><a href="#Merge-k-Sorted-Lists">Merge-k-Sorted-Lists(多路归并)</a></li>
</ul>
<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><ul>
<li><a href="#Longest-Univalue-Path">Longest-Univalue-Path</a></li>
<li><a href="#Symmetric-Tree">Symmetric-Tree</a></li>
<li><a href="#Path-Sum-II">Path-Sum-II</a></li>
<li><a href="#Path-Sum-III">Path-Sum-III</a></li>
<li><p><a href="#Unique-Binary-Search-Trees">Unique-Binary-Search-Trees</a></p>
</li>
<li><p><a href="#Trie-Prefix-Tree">Trie-Prefix-Tree</a></p>
</li>
<li><a href="#Trim-a-Binary-Search-Tree">Trim-a-Binary-Search-Tree</a></li>
<li><a href="#range-sum-query-2d">range-sum-query-2d</a></li>
<li><a href="#complete-binary-tree-inserter">complete-binary-tree-inserter</a></li>
</ul>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><ul>
<li><a href="#Top-K-Frequent-Words">Top-K-Frequent-Words</a></li>
</ul>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><ul>
<li><a href="#Longest-Palindromic-Substring">Longest-Palindromic-Substring (Manacher算法)</a></li>
<li><a href="#Roman">Integer to Roman</a></li>
<li><a href="#Integer-to-English-Words">Integer-to-English-Words</a></li>
<li><a href="#Word-Search-II">Word-Search-II( trie优化) </a></li>
</ul>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><ul>
<li><a href="#2-Keys-Keyboard">2-Keys-Keyboard</a></li>
<li><a href="#Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee">Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee</a></li>
<li><a href="#Decode-Ways">Decode-Ways</a></li>
<li><a href="#Number-of-Longest-Increasing-Subsequence">Number-of-Longest-Increasing-Subsequence</a></li>
<li><a href="#Knight-Probability-in-Chessboard">Knight-Probability-in-Chessboard</a></li>
<li><a href="#Longest-Valid-Parentheses">Longest Valid Parentheses</a></li>
<li><a href="#perfect-squares">perfect-squares</a></li>
<li><a href="#counting-bits">counting-bits</a></li>
<li><a href="#wildcard-matching">wildcard-matching</a></li>
<li><a href="#stone-game">stone-game</a></li>
<li><a href="#integer-break">integer-break</a></li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul>
<li><a href="#jump-game">jump-game</a></li>
<li><a href="#ZigZag-Conversion-">ZigZag-Conversion </a></li>
<li><a href="#Insert-Interval">Insert-Interval</a></li>
<li><a href="#Valid-Parenthesis-String">Valid-Parenthesis-String</a></li>
<li><a href="#One-line-task:squirrel-and-tree">squirrel and tree</a></li>
<li><a href="#nim-game">nim-game</a></li>
<li><a href="#max-ramp">max-ramp</a></li>
</ul>
<h1 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h1><h2 id="2018-12-28"><a href="#2018-12-28" class="headerlink" title="2018-12-28"></a>2018-12-28</h2><p><img src="/uploads/divider.png" alt=""><br> <a id="complete-binary-tree-inserter"></a></p>
<h3 id="complete-binary-tree-inserter—leetcode-919"><a href="#complete-binary-tree-inserter—leetcode-919" class="headerlink" title="complete-binary-tree-inserter—leetcode 919"></a><a href="https://leetcode-cn.com/problems/complete-binary-tree-inserter" target="_blank" rel="noopener">complete-binary-tree-inserter</a>—leetcode 919</h3><h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p> 完全二叉树是每一层（除最后一层外）都是完全填充（即，结点数达到最大）的，并且所有的结点都尽可能地集中在左侧。</p>
<p>设计一个用完全二叉树初始化的数据结构 CBTInserter，它支持以下几种操作：</p>
<p>CBTInserter(TreeNode root) 使用头结点为 root 的给定树初始化该数据结构；<br>CBTInserter.insert(int v) 将 TreeNode 插入到存在值为 node.val = v  的树中以使其保持完全二叉树的状态，并返回插入的 TreeNode 的父结点的值；<br>CBTInserter.get_root() 将返回树的头结点。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">示例 <span class="number">1</span>：</span><br><span class="line"></span><br><span class="line">输入：inputs = [<span class="string">"CBTInserter"</span>,<span class="string">"insert"</span>,<span class="string">"get_root"</span>], inputs = [[[<span class="number">1</span>]],[<span class="number">2</span>],[]]</span><br><span class="line">输出：[null,<span class="number">1</span>,[<span class="number">1</span>,<span class="number">2</span>]]</span><br><span class="line">示例 <span class="number">2</span>：</span><br><span class="line"></span><br><span class="line">输入：inputs = [<span class="string">"CBTInserter"</span>,<span class="string">"insert"</span>,<span class="string">"insert"</span>,<span class="string">"get_root"</span>], inputs = [[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]],[<span class="number">7</span>],[<span class="number">8</span>],[]]</span><br><span class="line">输出：[null,<span class="number">3</span>,<span class="number">4</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]]</span><br></pre></td></tr></table></figure>
<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>完全二叉树的编码</p>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.left = <span class="keyword">None</span></span><br><span class="line">        self.right = <span class="keyword">None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CBTInserter</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        """</span>        </span><br><span class="line">        self.root=root</span><br><span class="line">        self.num = self.getNum(root)</span><br><span class="line">        self.dic=&#123;<span class="string">'0'</span>:<span class="string">'left'</span>,<span class="string">'1'</span>:<span class="string">'right'</span>&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNum</span><span class="params">(self,nd)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> nd <span class="keyword">is</span> <span class="keyword">None</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>+self.getNum(nd.left)+self.getNum(nd.right)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, v)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type v: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.root <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            self.root = TreeNode(v)</span><br><span class="line">            self.num=<span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        self.num+=<span class="number">1</span></span><br><span class="line">        s= bin(self.num)[<span class="number">3</span>:]</span><br><span class="line">        cur = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s[:<span class="number">-1</span>]:</span><br><span class="line">            cur = getattr(cur,self.dic[i])</span><br><span class="line">        setattr(cur,self.dic[s[<span class="number">-1</span>]],TreeNode(v))</span><br><span class="line">        <span class="keyword">return</span> cur.val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_root</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.root</span><br></pre></td></tr></table></figure>
<p><img src="/uploads/divider.png" alt=""><br> <a id="minimum-area-rectangle"></a></p>
<h3 id="最小矩形面积—leetcode-963"><a href="#最小矩形面积—leetcode-963" class="headerlink" title="最小矩形面积—leetcode 963"></a><a href="https://leetcode-cn.com/problems/minimum-area-rectangle" target="_blank" rel="noopener">最小矩形面积</a>—leetcode 963</h3><h4 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h4><p> 给定在 xy 平面上的一组点，确定由这些点组成的任何矩形的最小面积，其中矩形的边不一定平行于 x 轴和 y 轴。</p>
<p>如果没有任何矩形，就返回 0。</p>
<p>输入：[[1,2],[2,1],[1,0],[0,1]]<br>输出：2.00000<br>解释：最小面积的矩形出现在 [1,2],[2,1],[1,0],[0,1] 处，面积为 2。</p>
<p>输入：[[0,1],[2,1],[1,1],[1,0],[2,0]]<br>输出：1.00000<br>解释：最小面积的矩形出现在 [1,0],[1,1],[2,1],[2,0] 处，面积为 1。</p>
<p>输入：[[0,3],[1,2],[3,1],[1,3],[2,1]]<br>输出：0<br>解释：没法从这些点中组成任何矩形。</p>
<p>输入：[[3,1],[1,1],[0,1],[2,1],[3,3],[3,2],[0,2],[2,3]]<br>输出：2.00000<br>解释：最小面积的矩形出现在 [2,1],[2,3],[3,3],[3,1] 处，面积为 2。</p>
<p> 要注意的细节很多, 主要是矩形的判定, 有两条平行边向量的情况下, 不能在一条直线上, 而且有两条邻边垂直 (否则为平行四边形), 涉及到 向量的内积与外积</p>
<h4 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minAreaFreeRect</span><span class="params">(self, points)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type points: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: float</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        vec = &#123;&#125;</span><br><span class="line">        n = len(points)</span><br><span class="line">        mn = <span class="keyword">None</span></span><br><span class="line">        visited=set()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,n):</span><br><span class="line">                x1,y1=points[i]</span><br><span class="line">                x2,y2 = points[j]</span><br><span class="line">                dx = x1-x2</span><br><span class="line">                dy = y1-y2</span><br><span class="line">                new = (i,j)</span><br><span class="line">                <span class="keyword">if</span> dx&lt;<span class="number">0</span>:</span><br><span class="line">                    dx = -dx</span><br><span class="line">                    dy = -dy</span><br><span class="line">                    new = (j,i)</span><br><span class="line">                v = (dx,dy)  <span class="comment"># edge  vec</span></span><br><span class="line">                <span class="keyword">if</span> v <span class="keyword">in</span> vec:</span><br><span class="line">                    <span class="keyword">for</span> p,q <span class="keyword">in</span> vec[v]: <span class="comment"># edge vecs are the same, namely  line ij//pq</span></span><br><span class="line">                        <span class="keyword">if</span> p==i <span class="keyword">or</span> p==j <span class="keyword">or</span> q==i <span class="keyword">or</span> q==j:<span class="keyword">continue</span></span><br><span class="line">                        xp,yp= points[p]</span><br><span class="line">                        xq,yq=points[q]</span><br><span class="line">                        ip = tuple(sorted([i,j,p,q]))</span><br><span class="line">                        <span class="keyword">if</span>  ip <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                            visited.add(ip) <span class="comment"># line  ij//pq or  iq//pj,  just judge them once</span></span><br><span class="line">                            dx2,dy2 = x1-xq, y1-yq</span><br><span class="line">                            <span class="keyword">if</span> dx*dx2+dy*dy2!=<span class="number">0</span>:  <span class="comment"># line ij,line iq are not vertical. line iq may be a diagonal</span></span><br><span class="line">                                dx2,dy2 = x1-xp,y1-yp</span><br><span class="line">                            <span class="keyword">if</span> dx*dx2+dy*dy2!=<span class="number">0</span>: <span class="comment"># not rectangle, it's Parallelogram</span></span><br><span class="line">                                <span class="keyword">continue</span></span><br><span class="line">                            s = abs(dx*dy2-dy*dx2)</span><br><span class="line">                            <span class="keyword">if</span> s!=<span class="number">0</span>:  <span class="comment"># Three points shouldn't be on one line</span></span><br><span class="line">                                <span class="keyword">if</span>  mn <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> mn&gt;s:mn = s</span><br><span class="line">                    vec[v].add(new)</span><br><span class="line">                <span class="keyword">else</span>:vec[v]=&#123;new&#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> <span class="keyword">if</span> mn <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">else</span> mn</span><br></pre></td></tr></table></figure>
<p><img src="/uploads/divider.png" alt=""><br> <a id="max-ramp"></a></p>
<h3 id="最大坡—leetcode-962"><a href="#最大坡—leetcode-962" class="headerlink" title="最大坡—leetcode 962"></a><a href="https://leetcode-cn.com/problems/maximum-width-ramp" target="_blank" rel="noopener">最大坡</a>—leetcode 962</h3><h4 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a>题目</h4><p> 给定一个整数数组 A，坡是元组 (i, j)，其中  i &lt; j 且 A[i] &lt;= A[j]。这样的坡的宽度为 j - i。</p>
<p>找出 A 中的坡的最大宽度，如果不存在，返回 0 。</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">示例 <span class="number">1</span>：</span><br><span class="line"></span><br><span class="line">输入：[<span class="number">6,0,8,2</span>,<span class="number">1</span>,<span class="number">5</span>]</span><br><span class="line">输出：<span class="number">4</span></span><br><span class="line">解释：</span><br><span class="line">最大宽度的坡为 (i, j) = (<span class="number">1</span>, <span class="number">5</span>): <span class="keyword">A</span>[<span class="number">1</span>] = <span class="number">0</span> 且 <span class="keyword">A</span>[<span class="number">5</span>] = <span class="number">5</span>.</span><br><span class="line">示例 <span class="number">2</span>：</span><br><span class="line"></span><br><span class="line">输入：[<span class="number">9,8,1,0</span>,<span class="number">1,9,4,0</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line">输出：<span class="number">7</span></span><br><span class="line">解释：</span><br><span class="line">   最大宽度的坡为 (i, j) = (<span class="number">2</span>, <span class="number">9</span>): <span class="keyword">A</span>[<span class="number">2</span>] = <span class="number">1</span> 且 <span class="keyword">A</span>[<span class="number">9</span>] = <span class="number">1</span>.</span><br></pre></td></tr></table></figure>
<h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p>这种题目就是从给定一个 criterion, 目标函数A[i]&lt;=A[j], 求 最值 j-i最大.<br>从左往右扫描, 保留当前最小值, 记录最优的结果. 这里要注意应该用 排名 来记录.</p>
<h4 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxWidthRamp</span><span class="params">(self, A)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type A: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(A)</span><br><span class="line">        li = sorted(range(n),key=<span class="keyword">lambda</span> i: A[i])</span><br><span class="line">        last = n</span><br><span class="line">        mx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">            <span class="keyword">if</span> i&lt;last:</span><br><span class="line">                last = i</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mx = max(mx,i-last)</span><br><span class="line">        <span class="keyword">return</span> mx</span><br></pre></td></tr></table></figure>
<h2 id="2018-12-21"><a href="#2018-12-21" class="headerlink" title="2018-12-21"></a>2018-12-21</h2><p><img src="/uploads/divider.png" alt=""><br> <a id="numbers-at-most-n-given-digit"></a></p>
<h3 id="numbers-at-most-n-given-digit—leetcode-902"><a href="#numbers-at-most-n-given-digit—leetcode-902" class="headerlink" title="numbers-at-most-n-given-digit—leetcode 902"></a><a href="https://leetcode-cn.com/problems/numbers-at-most-n-given-digit" target="_blank" rel="noopener">numbers-at-most-n-given-digit</a>—leetcode 902</h3><h4 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a>题目</h4><p>我们有一组排序的数字 D，它是  {‘1’,’2’,’3’,’4’,’5’,’6’,’7’,’8’,’9’} 的非空子集。（请注意，’0’ 不包括在内。）</p>
<p>现在，我们用这些数字进行组合写数字，想用多少次就用多少次。例如 D = {‘1’,’3’,’5’}，我们可以写出像 ‘13’, ‘551’, ‘1351315’ 这样的数字。</p>
<p>返回可以用 D 中的数字写出的小于或等于 N 的正整数的数目。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输入：D = [<span class="string">"1"</span>,<span class="string">"4"</span>,<span class="string">"9"</span>], N = <span class="number">1000000000</span></span><br><span class="line">输出：<span class="number">29523</span></span><br><span class="line">解释：</span><br><span class="line">我们可以写 <span class="number">3</span> 个一位数字，<span class="number">9</span> 个两位数字，<span class="number">27</span> 个三位数字，</span><br><span class="line"><span class="number">81</span> 个四位数字，<span class="number">243</span> 个五位数字，<span class="number">729</span> 个六位数字，</span><br><span class="line"><span class="number">2187</span> 个七位数字，<span class="number">6561</span> 个八位数字和 <span class="number">19683</span> 个九位数字。</span><br><span class="line">总共，可以使用D中的数字写出 <span class="number">29523</span> 个整数。</span><br></pre></td></tr></table></figure></p>
<h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>idea 很简单, 比 N 低位的直接 枚举相加, 与 N 位数相同的, 就从高位到低位依次比较, 当前位, 有 k 位 小于等于 若 k 位全小于, 则结束比较 若 有一位 等于, k-1 小于, 则递归地继续比较</p>
<p>只是处理边界条件要仔细点</p>
<h4 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">atMostNGivenDigitSet</span><span class="params">(self, D, N)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type D: List[str]</span></span><br><span class="line"><span class="string">        :type N: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        digits = []</span><br><span class="line">        D = [int(i) <span class="keyword">for</span> i <span class="keyword">in</span> D]</span><br><span class="line">        <span class="keyword">while</span> N :</span><br><span class="line">            digits.append(N%<span class="number">10</span>)</span><br><span class="line">            N//=<span class="number">10</span></span><br><span class="line">        self.n = len(D)</span><br><span class="line">        <span class="keyword">if</span> self.n==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> digits[<span class="number">-1</span>]&lt;D[<span class="number">0</span>]:</span><br><span class="line">                <span class="keyword">return</span> len(digits)<span class="number">-1</span> </span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> len(digits)</span><br><span class="line">        <span class="keyword">return</span> ( int(self.n**len(digits))-self.n)//(self.n<span class="number">-1</span>)+self.get(digits,D)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self,digits,D)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> digits ==[]:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> digits[<span class="number">-1</span>]&lt;D[<span class="number">0</span>]:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ct = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> ct&lt;self.n <span class="keyword">and</span> digits[<span class="number">-1</span>]&gt;=D[ct]:</span><br><span class="line">            ct+=<span class="number">1</span></span><br><span class="line">        exp = int(self.n**(len(digits)<span class="number">-1</span>))</span><br><span class="line">        <span class="keyword">if</span> D[ct<span class="number">-1</span>]==digits[<span class="number">-1</span>]:</span><br><span class="line">            <span class="keyword">return</span> (ct<span class="number">-1</span>)*exp + self.get(digits[:<span class="number">-1</span>],D)</span><br><span class="line">        <span class="keyword">else</span>:<span class="keyword">return</span>  ct*exp</span><br></pre></td></tr></table></figure>
<h2 id="2018-12-18"><a href="#2018-12-18" class="headerlink" title="2018-12-18"></a>2018-12-18</h2><p><img src="/uploads/divider.png" alt=""><br> <a id="bitwise-and-of-numbers-range"></a></p>
<h3 id="bitwise-and-of-numbers-range-—leetcode-201"><a href="#bitwise-and-of-numbers-range-—leetcode-201" class="headerlink" title="bitwise-and-of-numbers-range —leetcode 201"></a><a href="https://leetcode-cn.com/problems/bitwise-and-of-numbers-range" target="_blank" rel="noopener">bitwise-and-of-numbers-range</a> —leetcode 201</h3><h4 id="题目-4"><a href="#题目-4" class="headerlink" title="题目"></a>题目</h4><p>bitwise-and-of-numbers-range<br>给定范围 [m, n]，其中 0 &lt;= m &lt;= n &lt;= 2147483647，返回此范围内所有数字的按位与（包含 m, n 两端点）。</p>
<h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><p>可以发现 上界n在范围$[2^k,2^{k+1}-1]$, 而下界$m&lt;2^k$时, 结果为0, 当下界$m=2^k$时, 结果为$2^k$,由此可以递归求解</p>
<h4 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rangeBitwiseAnd</span><span class="params">(self, m, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type m: int</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        i = <span class="number">1</span>&lt;&lt;(len(bin(n))<span class="number">-3</span>)</span><br><span class="line">        <span class="keyword">return</span> i+self.rangeBitwiseAnd(m%i,n%i) <span class="keyword">if</span> m&gt;=i <span class="keyword">else</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h2 id="2018-12-17"><a href="#2018-12-17" class="headerlink" title="2018-12-17"></a>2018-12-17</h2><p><img src="/uploads/divider.png" alt=""><br> <a id="integer-break"></a></p>
<h3 id="integer-break-—leetcode"><a href="#integer-break-—leetcode" class="headerlink" title="integer-break —leetcode"></a><a href="https://leetcode-cn.com/problems/integer-break" target="_blank" rel="noopener">integer-break</a> —leetcode</h3><h4 id="题目-5"><a href="#题目-5" class="headerlink" title="题目"></a>题目</h4><p>Given a positive integer n, break it into the sum of at least two positive integers and maximize the product of those integers. Return the maximum product you can get.</p>
<p>Example 1:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: <span class="number">2</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line">Explanation: <span class="number">2</span> = <span class="number">1</span> + <span class="number">1</span>, <span class="number">1</span> × <span class="number">1</span> = <span class="number">1.</span></span><br></pre></td></tr></table></figure></p>
<h4 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h4><p>这个可以用动态规划解答</p>
<p>后来想到, 这不就是均值不等式吗? 给定和, 求积最大, 即</p>
<script type="math/tex; mode=display">
a_1+a_2 \ldots a_k = \sum_{i=1}^{k}a_i = n,\quad \text{find } max(\prod_{i=1}^{k}a_i)</script><p>如果先不考虑整数的话,易知当所有数相等时最大,但是注意这里并不知道数的个数 k, 所以设各个数为 x, 有 n/x个<br>要求出 x, 可以用导数. 各个数的积即为 $x^{\frac{n}{x}}$, 求其最大值</p>
<script type="math/tex; mode=display">
f(x) = x^{\frac{n}{x}},\quad x>0</script><p>求导得</p>
<script type="math/tex; mode=display">
f'(x) = nx^{\frac{n}{x}-2}(1-lnx)</script><p>易知当 x = e 的时候函数 f(x)有最大值</p>
<p>下面考虑整数, x=2 或者 3</p>
<p>即比较 $2^{\frac{n}{2}}$, $3^{\frac{n}{3}}$<br>的增长速度, 这很简单了, 其实都是指数函数, 换个形式即为<br>$\sqrt{2}^{n}$, $\sqrt[3]{3}^{n}$</p>
<p>由于 n &gt; 0 , 底数大的增长快,</p>
<p>计算得<br>$\sqrt{2} = 1.414, \sqrt[3]{3} = 1.442$<br>所以, 尽量将整数 n 分成 3即可,<br>本来是个很简单的题, 但是给我的感觉就是:<br><strong>动态规划是种系统的方法, 它依靠计算机的算力对问题直接求解, 不用了解其背后的数学原理.<br>而有时候, 如果我们跳出常规思维, 思考问题背后的数学规律, 就可能发现更加好的解法. 更加完备,快速, 健壮.</strong></p>
<h4 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h4><ul>
<li>动态规划版本</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integerBreak</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.dic=&#123;<span class="number">1</span>:<span class="number">1</span>&#125;</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n+<span class="number">1</span>):</span><br><span class="line">            mx = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,i):</span><br><span class="line">                prod = j*self.dic[i-j]</span><br><span class="line">                mx =max(mx,prod,j*(i-j))</span><br><span class="line">            self.dic[i] = mx</span><br><span class="line">        <span class="keyword">return</span> self.dic[n]</span><br></pre></td></tr></table></figure>
<ul>
<li>非动态规划解法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">integerBreak</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> n&lt;<span class="number">5</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>][n]</span><br><span class="line">        x = n % <span class="number">3</span></span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span> ** (n // <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">if</span> x == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3</span> ** (n // <span class="number">3</span> - <span class="number">1</span>) * <span class="number">4</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span> ** (n // <span class="number">3</span>) * <span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2018-12-15"><a href="#2018-12-15" class="headerlink" title="2018-12-15"></a>2018-12-15</h2><p><img src="/uploads/divider.png" alt=""><br> <a id="nim-game"></a></p>
<h3 id="Nim-game-—leetcode-cn-292"><a href="#Nim-game-—leetcode-cn-292" class="headerlink" title="Nim game —leetcode-cn 292"></a><a href="https://leetcode-cn.com/problems/nim-game" target="_blank" rel="noopener">Nim game</a> —leetcode-cn 292</h3><h4 id="题目-6"><a href="#题目-6" class="headerlink" title="题目"></a>题目</h4><p> 你和你的朋友，两个人一起玩 Nim 游戏：桌子上有一堆石头，每次你们轮流拿掉 1 - 3 块石头。 拿掉最后一块石头的人就是获胜者。<br> 你们是聪明人，判断在什么情况下 先手可以在给定石头数量  赢得游戏。</p>
<h4 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h4><p> 233333 上次看见这题还是在小学的 &lt;&lt;举一反三&gt;&gt;上面, 可以说是脑经急转弯了</p>
<p>策略: 要得到最后一块, 可以的取法是 1,2,3.<br>我们可以控制这样的局面, 对手取1, 我取3, 对手取2, 我取2, 对手取3, 我取1, 这样石头数量在多个回合内被我方控制得只能以4的数量减少, 所以记为 4n, 要取到最后一个, 则必须还有石头让先手(我方)取一次, 所以石头数是 4n+i (i=1,2,3)的时候, 先手必胜,<br>即先手取 i, 然后每个回合取 <code>4-对方取的数量</code></p>
<h4 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h4><p><code>return n%4!=0</code></p>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="stone-game"></a></p>
<h3 id="stone-game-—leetcode-cn-877"><a href="#stone-game-—leetcode-cn-877" class="headerlink" title="stone-game —leetcode-cn 877"></a><a href="https://leetcode-cn.com/problems/stone-game/" target="_blank" rel="noopener">stone-game</a> —leetcode-cn 877</h3><h4 id="题目-7"><a href="#题目-7" class="headerlink" title="题目"></a>题目</h4><p>亚历克斯和李用几堆石子在做游戏。偶数堆石子排成一行，每堆都有正整数颗石子 li[i] 。游戏以谁手中的石子最多来决出 胜负。石子的总数是奇数，所以没有平局。<br>亚历克斯和李轮流进行. 每回合，玩家从行的开始或结束处取走整堆石头。 这种情况一直持续到没有更多的石子堆为止，此时手中石子最多的玩家获胜。<br>那么先手一定会赢吗? 是的, 求出先手比后手多的石子数.</p>
<h4 id="代码-7"><a href="#代码-7" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stoneGame</span><span class="params">(li)</span>:</span></span><br><span class="line">    <span class="string">'''li: list, len(li)%2==0, sum(li)%2==1'''</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(p,q)</span>:</span></span><br><span class="line">       ret = dp[p][q]</span><br><span class="line">       <span class="keyword">if</span> ret <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">           <span class="keyword">if</span> p+<span class="number">1</span>==q:</span><br><span class="line">               ret =  abs(li[p]-li[q])</span><br><span class="line">           <span class="keyword">else</span>:</span><br><span class="line">               <span class="comment"># max min</span></span><br><span class="line">               <span class="comment"># take the first one</span></span><br><span class="line">               n1 = li[p] + min(-li[p+<span class="number">1</span>]+f(p+<span class="number">2</span>,q),-li[q]+f(p+<span class="number">1</span>,q<span class="number">-1</span>))</span><br><span class="line">               <span class="comment"># take the last one</span></span><br><span class="line">               n2 = li[q] + min(-li[p]+f(p+<span class="number">1</span>,q<span class="number">-1</span>),-li[q<span class="number">-1</span>]+f(p,q<span class="number">-2</span>))</span><br><span class="line">               ret =  max(n1,n2)</span><br><span class="line">           dp[p][q] = ret</span><br><span class="line">       <span class="comment">#print(li[p:q+1],ret)</span></span><br><span class="line">       <span class="keyword">return</span> ret</span><br><span class="line">   n = len(li)</span><br><span class="line">   dp = [[<span class="keyword">None</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(n)] <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">   <span class="keyword">return</span> f(<span class="number">0</span>,n<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="wildcard-matching"></a></p>
<h3 id="wildcard-matching-—leetcode-44"><a href="#wildcard-matching-—leetcode-44" class="headerlink" title="wildcard-matching  —leetcode 44"></a><a href="https://leetcode.com/problems/wildcard-matching/description/" target="_blank" rel="noopener">wildcard-matching</a>  —leetcode 44</h3><h4 id="题目-8"><a href="#题目-8" class="headerlink" title="题目"></a>题目</h4><p>wild card:<br><code>*</code>: matches 0 or any chars,<br><code>?</code>: matches any single char.</p>
<p>Given two strings <code>s</code> and <code>p</code>.  <code>s</code> doesn’t contain wild card and <code>p</code> may contain wild card.<br>Judge if they are matched.</p>
<h4 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h4><p>dynamic programming</p>
<p>dp[m+1][n+1]:  bool</p>
<p>i:n,  j:m<br>dp[j][i] indicates if s[:i+1] matches p[:j+1]</p>
<p>initial: dp[0][0] = True, dp[0][i],dp[j][0] = False<br>only if p startswith ‘*’,  dp[1][0] = True.</p>
<p>if   p[j] = ‘*’: dp[j][i] = dp[j-1][i] or dp[j][i-1]<br>elif p[j] = ‘?’: dp[j][i] = dp[j-1][i-1]<br>else           : dp[j][i] = dp[j-1][i-1] and s[i] == p[j]</p>
<h4 id="代码-8"><a href="#代码-8" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s, p)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type s: str</span></span><br><span class="line"><span class="string">    :type p: str   pattern str including wildcard</span></span><br><span class="line"><span class="string">    :rtype: bool</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    n,m = len(s),len(p)</span><br><span class="line">    last =  [<span class="keyword">False</span>]*(n+<span class="number">1</span>)</span><br><span class="line">    last[<span class="number">0</span>] = <span class="keyword">True</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(m):</span><br><span class="line">        <span class="keyword">if</span> p[j]==<span class="string">'*'</span>:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">                last[i+<span class="number">1</span>] = last[i+<span class="number">1</span>] <span class="keyword">or</span> last[i]</span><br><span class="line">        <span class="keyword">elif</span> p[j]==<span class="string">'?'</span>:</span><br><span class="line">            last.pop()</span><br><span class="line">            last.insert(<span class="number">0</span>,<span class="keyword">False</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            li = [<span class="keyword">False</span>]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">                li.append( last[i] <span class="keyword">and</span> p[j]==s[i])</span><br><span class="line">            last = li</span><br><span class="line">    <span class="keyword">return</span> last[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="bulb-switch"></a></p>
<h3 id="bulb-switch-—-leetcode-cn-319"><a href="#bulb-switch-—-leetcode-cn-319" class="headerlink" title="bulb-switch — leetcode-cn 319"></a><a href="https://leetcode-cn.com/problems/bulb-switcher/" target="_blank" rel="noopener">bulb-switch</a> — leetcode-cn 319</h3><h4 id="题目-9"><a href="#题目-9" class="headerlink" title="题目"></a>题目</h4><p>初始时有 n 个灯泡关闭。 第 1 轮，你打开所有的灯泡。 第 2 轮，每两个灯泡你关闭一次。 第 3 轮，每三个灯泡切换一次开关（如果关闭则开启，如果开启则关闭）。第 i 轮，每 i 个灯泡切换一次开关。 对于第 n 轮，你只切换最后一个灯泡的开关。 找出 n 轮后有多少个亮着的灯泡。</p>
<p>示例<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">输入: <span class="number">3</span></span><br><span class="line">输出: <span class="number">1</span> </span><br><span class="line">解释: </span><br><span class="line">初始时, 灯泡状态 [关闭, 关闭, 关闭].</span><br><span class="line">第一轮后, 灯泡状态 [开启, 开启, 开启].</span><br><span class="line">第二轮后, 灯泡状态 [开启, 关闭, 开启].</span><br><span class="line">第三轮后, 灯泡状态 [开启, 关闭, 关闭]. </span><br><span class="line"></span><br><span class="line">你应该返回 <span class="number">1</span>，因为只有一个灯泡还亮着。</span><br></pre></td></tr></table></figure></p>
<h3 id="思路-7"><a href="#思路-7" class="headerlink" title="思路"></a>思路</h3><p>因数分解, 只有平方数才有奇数个因数, 即开关从关闭开始置反奇数次,</p>
<h3 id="代码-9"><a href="#代码-9" class="headerlink" title="代码"></a>代码</h3><p><code>int(n**0.5)</code></p>
<h2 id="2018-11-12"><a href="#2018-11-12" class="headerlink" title="2018-11-12"></a>2018-11-12</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="spiral"></a></p>
<h3 id="One-line-task-squirrel-and-tree-—codewars-4kyu"><a href="#One-line-task-squirrel-and-tree-—codewars-4kyu" class="headerlink" title="One line task:squirrel and tree —codewars 4kyu"></a><a href="https://www.codewars.com/kata/one-line-task-squirrel-and-tree/train/python" target="_blank" rel="noopener">One line task:squirrel and tree</a> —codewars 4kyu</h3><h4 id="题目-10"><a href="#题目-10" class="headerlink" title="题目"></a>题目</h4><p> Task<br>Since the weather was good, some students decided to go for a walk in the park after the first lectures of the new academic year. There they saw a squirrel, which climbed a tree in a spiral at a constant angle to the ground. They calculated that in one loop the squirrel climbes h meters (vertical height), the height of the tree is equal to H (v in Ruby), and the length of its circumference equals S.</p>
<p>These calculations were exhausting, so now the students need your help to figure out how many meters the path length of squirrel climbed when it reached the tree top. The result should be rounded to 4 decimal places.</p>
<p>Code Limit<br>Less than 52 characters (JavaScript &amp; Python)</p>
<p>Less than 48 characters (Ruby)</p>
<p>Example<br>For h = 4, H = 16, S = 3, the output should be 20.</p>
<p>For h = 8, H = 9, S = 37, the output should be 42.5869</p>
<h4 id="思路-8"><a href="#思路-8" class="headerlink" title="思路"></a>思路</h4><p>螺旋线, 求出一个周期的长度,设周期为 $T$<br>则可以写出参数方程</p>
<script type="math/tex; mode=display">
\begin{aligned}
z& = \frac{h}{T}t \\
x& = \frac{S}{2\pi}cos\frac{2\pi}{T}t\\
y& = \frac{S}{2\pi}sin\frac{2\pi}{T}t \\  
\end{aligned}</script><p>然后求出每一个周期的长度,</p>
<script type="math/tex; mode=display">
\text{length}_T = \int_0^T \sqrt{(\frac{dx}{dt})^2+(\frac{dy}{dt})^2+(\frac{dz}{dt})^2} dt</script><p>最后算有几个周期即可, 即$\text{length}_T*\frac{H}{h}$<br>最后的表达式就是<br>result = $\sqrt{S^2+h^2}\frac{H}{h}$</p>
<h4 id="代码-10"><a href="#代码-10" class="headerlink" title="代码"></a>代码</h4><p>最开始这样写, 后来注意到 必须少于 52个字符<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">squirrel</span><span class="params">(h,H,S)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> round((S*S+h*h)**<span class="number">0.5</span>*H/h,<span class="number">4</span>)</span><br></pre></td></tr></table></figure></p>
<p>想了很久就缩短成这样<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">squirrel</span><span class="params">(h,H,S)</span>:</span><span class="keyword">return</span> round((S*S/h/h+<span class="number">1</span>)**<span class="number">.5</span>*H,<span class="number">4</span>)</span><br></pre></td></tr></table></figure></p>
<p>然而还是有53个字符<br>在网上找了很多关于舍入, 函数值返回的缩短代码的方法, 都没找到.<br>后来看到return, 觉得很多余, 就想到了lambda<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">squirrel=<span class="keyword">lambda</span> h,H,S:round((S*S/h/h+<span class="number">1</span>)**<span class="number">.5</span>*H,<span class="number">4</span>)</span><br></pre></td></tr></table></figure></p>
<p>这样就可以pass 了 <span class="github-emoji" title="smiley" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png?v8">&#x1f603;</span></p>
<p>然后看到别人还有更好的代码, 利用了虚数的模,<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">squirrel=<span class="keyword">lambda</span> h,H,S:round(abs(S/h+<span class="number">1j</span>)*H,<span class="number">4</span>)</span><br></pre></td></tr></table></figure></p>
<p>佩服 <span class="github-emoji" title="bow" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f647.png?v8">&#x1f647;</span></p>
<h2 id="2018-8-26"><a href="#2018-8-26" class="headerlink" title="2018-8-26"></a>2018-8-26</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="counting-bits"></a></p>
<h3 id="counting-bits-—leetcode-338"><a href="#counting-bits-—leetcode-338" class="headerlink" title="counting-bits —leetcode 338"></a><a href="https://leetcode.com/problems/counting-bits/description/" target="_blank" rel="noopener">counting-bits</a> —leetcode 338</h3><h4 id="题目-11"><a href="#题目-11" class="headerlink" title="题目"></a>题目</h4><p>Given a non negative integer number num. For every numbers i in the range 0 ≤ i ≤ num calculate the number of 1’s in their binary representation and return them as an array.<br><figure class="highlight python"><figcaption><span>Example 1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: <span class="number">2</span></span><br><span class="line">Output: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure></p>
<h4 id="思路-9"><a href="#思路-9" class="headerlink" title="思路"></a>思路</h4><p>这道题也很简单, 只是要想到好的子问题, 我这里通过向右移一位得到</p>
<h4 id="代码-11"><a href="#代码-11" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coutBits</span><span class="params">(self,num)</span>:</span></span><br><span class="line">    rst = [<span class="number">0</span>]*(<span class="number">1</span>+num)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,num+<span class="number">1</span>): rst[i] = (i&amp;<span class="number">1</span>)+ rst[i&gt;&gt;<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="range-sum-query-2d"></a></p>
<h3 id="range-sum-query-2d-—leetcode-304"><a href="#range-sum-query-2d-—leetcode-304" class="headerlink" title="range-sum-query-2d —leetcode 304"></a><a href="https://leetcode.com/problems/range-sum-query-2d/description/" target="_blank" rel="noopener">range-sum-query-2d</a> —leetcode 304</h3><h4 id="题目-12"><a href="#题目-12" class="headerlink" title="题目"></a>题目</h4><p>Given a 2D matrix matrix, find the sum of the elements inside the rectangle defined by its upper left corner (row1, col1) and lower right corner (row2, col2).</p>
<h4 id="思路-10"><a href="#思路-10" class="headerlink" title="思路"></a>思路</h4><p>这道题还是很简单的, 就是计算前缀和就行了, 用二维的数组来保存, 为了方便, 我增加了一行,一列, $A_{ij}就表示 matrix[0][0] 到matrix[i-1][j-1] 所有元素之和$.  需要求解的时候拼凑一下做一个加减法就行了.</p>
<p>最开始我用了四维数组来直接保存结果, 但是内存超了, 而且速度并不会快多少. </p>
<h4 id="代码-12"><a href="#代码-12" class="headerlink" title="代码"></a>代码</h4><p>通过了的代码<br><figure class="highlight python"><figcaption><span>python</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type matrix: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> matrix == [[]] <span class="keyword">or</span> matrix ==[]:<span class="keyword">return</span></span><br><span class="line">        m,n = len(matrix), len(matrix[<span class="number">0</span>])</span><br><span class="line">        self.data = [[<span class="number">0</span>]*(<span class="number">1</span>+n) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>+m)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">1</span>+m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">1</span>+n):</span><br><span class="line">                lval = self.data[i][j<span class="number">-1</span>]</span><br><span class="line">                uval = self.data[i<span class="number">-1</span>][j]-self.data[i<span class="number">-1</span>][j<span class="number">-1</span>]</span><br><span class="line">                self.data[i][j] = matrix[i<span class="number">-1</span>][j<span class="number">-1</span>]+lval+uval</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumRegion</span><span class="params">(self, row1, col1, row2, col2)</span>:</span></span><br><span class="line">        row1+=<span class="number">1</span></span><br><span class="line">        col1+=<span class="number">1</span></span><br><span class="line">        row2+=<span class="number">1</span></span><br><span class="line">        col2+=<span class="number">1</span></span><br><span class="line">        lval = self.data[row2][col1<span class="number">-1</span>]</span><br><span class="line">        uval = self.data[row1<span class="number">-1</span>][col2] - self.data[row1<span class="number">-1</span>][col1<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">return</span> self.data[row2][col2]-lval-uval</span><br></pre></td></tr></table></figure></p>
<p>直接保存结果, 空间 $O(n^4)$, memory excess<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> matrix == [[]] <span class="keyword">or</span> matrix ==[]:<span class="keyword">return</span></span><br><span class="line">        m,n = len(matrix), len(matrix[<span class="number">0</span>])</span><br><span class="line">        self.transpose = <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> m&gt;n:</span><br><span class="line">            self.transpose = <span class="keyword">True</span></span><br><span class="line">            n,m = m,n</span><br><span class="line">            newMatrix = [[<span class="number">0</span>]*n <span class="keyword">for</span> i <span class="keyword">in</span> range(m)]</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                    newMatrix[i][j] = matrix[j][i]</span><br><span class="line">            matrix = newMatrix</span><br><span class="line">                    </span><br><span class="line">        self.data = [[[[<span class="number">0</span>]*n <span class="keyword">for</span> i <span class="keyword">in</span> range(m)]<span class="keyword">for</span> i <span class="keyword">in</span> range(n)] <span class="keyword">for</span> i <span class="keyword">in</span> range(m)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                self.data[i][j][i][j] = matrix[i][j]</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(n): <span class="comment"># note that use the bigger val n, not m</span></span><br><span class="line">            <span class="keyword">for</span> d <span class="keyword">in</span> range(n):</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(n): <span class="comment"># use n not m</span></span><br><span class="line">                    k = i+l</span><br><span class="line">                    <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">                        r = j+d</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span>&lt;=k&lt;m <span class="keyword">and</span> <span class="number">0</span>&lt;r &lt;n:self.data[i][j][k][r] = self.data[i][j][k][r<span class="number">-1</span>]+self.data[i][r][k][r]</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span>&lt;=k&lt;n <span class="keyword">and</span> <span class="number">0</span>&lt;r&lt;m: self.data[j][i][r][k] = self.data[j][i][r<span class="number">-1</span>][k]+self.data[r][i][r][k] <span class="comment"># tranpose</span></span><br><span class="line">        print(self.data)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumRegion</span><span class="params">(self, row1, col1, row2, col2)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.transpose: <span class="keyword">return</span> self.data[col1][row1][col2][row2]</span><br><span class="line">        <span class="keyword">else</span>:              <span class="keyword">return</span> self.data[row1][col1][row2][col2]</span><br></pre></td></tr></table></figure></p>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="perfect-squares"></a></p>
<h3 id="perfect-squares-—leetcode-279"><a href="#perfect-squares-—leetcode-279" class="headerlink" title="perfect-squares —leetcode 279"></a><a href="https://leetcode.com/problems/perfect-squares/description/" target="_blank" rel="noopener">perfect-squares</a> —leetcode 279</h3><h4 id="题目-13"><a href="#题目-13" class="headerlink" title="题目"></a>题目</h4><p>Given a positive integer n, find the least number of perfect square numbers (for example, 1, 4, 9, 16, …) which sum to n.<br><code>Example 1:</code><br>&gt;<br>Input: n = 12<br>Output: 3<br>Explanation: 12 = 4 + 4 + 4.</p>
<h4 id="思路-11"><a href="#思路-11" class="headerlink" title="思路"></a>思路</h4><p>numSquare2是 DFS, numSquare是BFS, DFS会超时. DFS优点就是节省空间, 但是时间上会较慢, 而BFS 正好相反.</p>
<h4 id="代码-13"><a href="#代码-13" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><figcaption><span>python</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares2</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.sq = [i*i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,int(n**<span class="number">0.5</span>)+<span class="number">1</span>)]</span><br><span class="line">        self.dic=&#123;<span class="number">1</span>:<span class="number">1</span>,<span class="number">0</span>:<span class="number">0</span>&#125;</span><br><span class="line">        <span class="keyword">return</span> self.get(n)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self,n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> self.dic:<span class="keyword">return</span> self.dic[n]</span><br><span class="line">        ml = n</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> self.sq:</span><br><span class="line">            <span class="keyword">if</span> j&gt;n :<span class="keyword">break</span></span><br><span class="line">            ml = min(ml,<span class="number">1</span>+self.get(n-j))</span><br><span class="line">        self.dic[n] = ml</span><br><span class="line">        <span class="keyword">return</span> ml</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSquares</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        </span><br><span class="line">        edges = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, int(math.ceil(math.sqrt(n)))+<span class="number">1</span>):</span><br><span class="line">            edges.append(i*i)</span><br><span class="line">        </span><br><span class="line">        depth = <span class="number">1</span></span><br><span class="line">        nodes = set([n])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> nodes:</span><br><span class="line">            nextLevel = set()</span><br><span class="line">            <span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">for</span> e <span class="keyword">in</span> edges:</span><br><span class="line">                    <span class="keyword">if</span> node - e == <span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">return</span> depth</span><br><span class="line">                    <span class="keyword">elif</span> node - e &gt; <span class="number">0</span>:</span><br><span class="line">                        nextLevel.add(node-e)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">            </span><br><span class="line">            depth += <span class="number">1</span></span><br><span class="line">            nodes = nextLevel</span><br></pre></td></tr></table></figure>
<h2 id="2018-8-25"><a href="#2018-8-25" class="headerlink" title="2018-8-25"></a>2018-8-25</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="All-O`one-Data-Structure"></a></p>
<h3 id="Longest-Valid-Parentheses-—leetcode-32"><a href="#Longest-Valid-Parentheses-—leetcode-32" class="headerlink" title="Longest Valid Parentheses —leetcode 32"></a><a href="https://leetcode.com/problems/longest-valid-parentheses/" target="_blank" rel="noopener">Longest Valid Parentheses</a> —leetcode 32</h3><h4 id="题目-14"><a href="#题目-14" class="headerlink" title="题目"></a>题目</h4><p>Given a string containing just the characters ‘(‘ and ‘)’, find the length of the longest valid (well-formed) parentheses <strong>substring<em>*</em></strong>.</p>
<h4 id="思路-12"><a href="#思路-12" class="headerlink" title="思路"></a>思路</h4><p>cont 变量用来看是否连续的好括号, 用来连接, 用栈的数据结构可以记录当”(“ 多于”)” 时 的状态.</p>
<h4 id="代码-14"><a href="#代码-14" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><figcaption><span>python</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestValidParentheses</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        cont = <span class="number">0</span></span><br><span class="line">        maxl = <span class="number">0</span></span><br><span class="line">        stk = []</span><br><span class="line">        <span class="keyword">for</span> i,ch <span class="keyword">in</span> enumerate(s):</span><br><span class="line">            <span class="keyword">if</span> ch==<span class="string">"("</span>:</span><br><span class="line">                stk.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">elif</span> ch==<span class="string">')'</span>:</span><br><span class="line">                <span class="keyword">if</span> stk==[]:</span><br><span class="line">                    cont =<span class="number">0</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    val = stk.pop()</span><br><span class="line">                    <span class="keyword">if</span> stk==[]:</span><br><span class="line">                        cont += val+<span class="number">1</span></span><br><span class="line">                        maxl = max(maxl,cont*<span class="number">2</span>)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        stk[<span class="number">-1</span>] += val+<span class="number">1</span></span><br><span class="line">                        maxl = max(stk[<span class="number">-1</span>]*<span class="number">2</span>, maxl)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> maxl</span><br></pre></td></tr></table></figure>
<h2 id="2018-1-23"><a href="#2018-1-23" class="headerlink" title="2018-1-23"></a>2018-1-23</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="All-Oone-Data-Structure"></a></p>
<h3 id="All-O-one-Data-Structure-—leetcode-432"><a href="#All-O-one-Data-Structure-—leetcode-432" class="headerlink" title="All-O`one-Data-Structure —leetcode 432"></a><a href="https://leetcode.com/problems/all-oone-data-structure/description/" target="_blank" rel="noopener">All-O`one-Data-Structure</a> —leetcode 432</h3><h4 id="题目-15"><a href="#题目-15" class="headerlink" title="题目"></a>题目</h4><p>Implement a data structure supporting the following operations:</p>
<ul>
<li><code>Inc(Key)</code> - Inserts a new key with value 1. Or increments an existing key by 1. Key is guaranteed to be a non-empty string.</li>
<li><code>Dec(Key)</code> - If Key’s value is 1, remove it from the data structure. Otherwise decrements an existing key by 1. If the key does not exist, this function does nothing. Key is guaranteed to be a non-empty string.</li>
<li><code>GetMaxKey()</code> - Returns one of the keys with maximal value. If no element exists, return an empty string “”.</li>
<li><code>GetMinKey()</code> - Returns one of the keys with minimal value. If no element exists, return an empty string “”.</li>
</ul>
<p>Challenge: Perform all these in O(1) time complexity.</p>
<h4 id="思路-13"><a href="#思路-13" class="headerlink" title="思路"></a>思路</h4><p>详细可以看<a href="../all-one-data-structure.html">这篇文章</a></p>
<h4 id="代码-15"><a href="#代码-15" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,val=None,data_mp=None,pre=None,next=None)</span>:</span></span><br><span class="line">        self.val=val</span><br><span class="line">        self.data_mp = &#123;&#125; <span class="keyword">if</span> data_mp <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">else</span> data_mp</span><br><span class="line">        self.pre=pre</span><br><span class="line">        self.next=next</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self,nd)</span>:</span></span><br><span class="line">        <span class="keyword">return</span>  self.val&lt;nd.val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getOne</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.data_mp:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">        <span class="keyword">else</span>:<span class="keyword">return</span> list(self.data_mp.items())[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,key)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.data_mp[key]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> iter(self.data_mp)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delitem__</span><span class="params">(self,key)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self.data_mp[key]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self,key,val)</span>:</span></span><br><span class="line">        self.data_mp[key]= val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.data_mp==&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'node(&#123;&#125;,&#123;&#125;)'</span>.format(self.val,self.data_mp)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">doubleLinkedList</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.head=  self.tail = node(<span class="number">0</span>)</span><br><span class="line">        self.head.next = self.head</span><br><span class="line">        self.head.pre = self.head</span><br><span class="line">        self.chain_mp=&#123;<span class="number">0</span>:self.head&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        li = list(self.chain_mp.values())</span><br><span class="line">        li = [str(i) <span class="keyword">for</span> i <span class="keyword">in</span> li]</span><br><span class="line">        <span class="keyword">return</span>  <span class="string">'min:&#123;&#125;, max:&#123;&#125;\n'</span>.format(self.head.val,self.tail.val) + <span class="string">'\n'</span>.join(li)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMax</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.tail.getOne()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMin</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.head.getOne()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addIncNode</span><span class="params">(self,val)</span>:</span></span><br><span class="line"><span class="comment"># when adding a node,inc 1, so it's guranted that node(val-1)  exists</span></span><br><span class="line">        self.chain_mp[val].pre= self.chain_mp[val<span class="number">-1</span>]   </span><br><span class="line">        self.chain_mp[val].next= self.chain_mp[val<span class="number">-1</span>].next</span><br><span class="line">        self.chain_mp[val<span class="number">-1</span>].next.pre = self.chain_mp[val<span class="number">-1</span>].next = self.chain_mp[val]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addDecNode</span><span class="params">(self,val)</span>:</span></span><br><span class="line"><span class="comment"># when adding a node,dec 1, so it's guranted that node(val+1)  exists</span></span><br><span class="line">        self.chain_mp[val].next= self.chain_mp[val+<span class="number">1</span>]   </span><br><span class="line">        self.chain_mp[val].pre= self.chain_mp[val+<span class="number">1</span>].pre</span><br><span class="line">        self.chain_mp[val+<span class="number">1</span>].pre.next = self.chain_mp[val+<span class="number">1</span>].pre = self.chain_mp[val]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addNode</span><span class="params">(self,val,dec=False)</span>:</span></span><br><span class="line">        self.chain_mp[val] = node(val)</span><br><span class="line">        <span class="keyword">if</span> dec:self.addDecNode(val)</span><br><span class="line">        <span class="keyword">else</span>:self.addIncNode(val)</span><br><span class="line">        <span class="keyword">if</span> self.tail.val&lt;val:self.tail = self.chain_mp[val]</span><br><span class="line">        <span class="keyword">if</span> self.head.val&gt;val <span class="keyword">or</span> self.head.val==<span class="number">0</span>:self.head= self.chain_mp[val]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delNode</span><span class="params">(self,val)</span>:</span></span><br><span class="line">        self.chain_mp[val].next.pre = self.chain_mp[val].pre</span><br><span class="line">        self.chain_mp[val].pre.next = self.chain_mp[val].next</span><br><span class="line">        <span class="keyword">if</span> self.tail.val==val:self.tail = self.chain_mp[val].pre</span><br><span class="line">        <span class="keyword">if</span> self.head.val==val:self.head = self.chain_mp[val].next</span><br><span class="line">        <span class="keyword">del</span> self.chain_mp[val]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">incTo</span><span class="params">(self,key,val)</span>:</span>  </span><br><span class="line">        <span class="keyword">if</span> val <span class="keyword">not</span> <span class="keyword">in</span> self.chain_mp: </span><br><span class="line">            self.addNode(val)</span><br><span class="line">        self.chain_mp[val][key] = val</span><br><span class="line">        <span class="keyword">if</span> val!=<span class="number">1</span> :  <span class="comment"># key in the pre node</span></span><br><span class="line">            <span class="keyword">del</span> self.chain_mp[val<span class="number">-1</span>][key]</span><br><span class="line"><span class="comment">#print(self.chain_mp[val-1])</span></span><br><span class="line">            <span class="keyword">if</span> self.chain_mp[val<span class="number">-1</span>].isEmpty():</span><br><span class="line"><span class="comment">#print('*'*20)</span></span><br><span class="line">                self.delNode(val<span class="number">-1</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decTo</span><span class="params">(self,key,val)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> val <span class="keyword">not</span> <span class="keyword">in</span> self.chain_mp:</span><br><span class="line">            self.addNode(val,dec=<span class="keyword">True</span>)</span><br><span class="line"><span class="comment"># notice that the headnode(0) shouldn't add key</span></span><br><span class="line">        <span class="keyword">if</span> val!=<span class="number">0</span>: self.chain_mp[val][key] = val  </span><br><span class="line">        <span class="keyword">del</span> self.chain_mp[val+<span class="number">1</span>][key]</span><br><span class="line">        <span class="keyword">if</span> self.chain_mp[val+<span class="number">1</span>].isEmpty():</span><br><span class="line">            self.delNode(val+<span class="number">1</span>)        </span><br><span class="line">                </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AllOne</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize your data structure here.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.op = &#123;<span class="string">"inc"</span>:self.inc,<span class="string">"dec"</span>:self.dec,<span class="string">"getMaxKey"</span>:self.getMaxKey,<span class="string">"getMinKey"</span>:self.getMinKey&#125;  <span class="comment"># use for testing</span></span><br><span class="line">        self.mp = &#123;&#125;</span><br><span class="line">        self.dll = doubleLinkedList()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self.dll)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,key)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.mp[key]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delitem__</span><span class="params">(self,key)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self.mp[key]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self,key,val)</span>:</span></span><br><span class="line">        self.mp[key]= val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> iter(self.mp)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inc</span><span class="params">(self, key)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Inserts a new key &lt;Key&gt; with value 1. Or increments an existing key by 1.</span></span><br><span class="line"><span class="string">        :type key: str</span></span><br><span class="line"><span class="string">        :rtype: void</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> self:</span><br><span class="line">            self[key]+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:self[key]=<span class="number">1</span></span><br><span class="line">        self.dll.incTo(key, self[key])</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dec</span><span class="params">(self, key)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Decrements an existing key by 1. If Key's value is 1, remove it from the data structure.</span></span><br><span class="line"><span class="string">        :type key: str</span></span><br><span class="line"><span class="string">        :rtype: void</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> self.mp:</span><br><span class="line">            self.dll.decTo(key, self[key]<span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">if</span> self[key] == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">del</span> self[key]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                self[key] -=<span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMaxKey</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns one of the keys with maximal value.</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.dll.getMax()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMinKey</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns one of the keys with Minimal value.</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.dll.getMin()</span><br></pre></td></tr></table></figure>
<h2 id="2018-1-21"><a href="#2018-1-21" class="headerlink" title="2018-1-21"></a>2018-1-21</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Partition-to-K-Equal-Sum-Subsets"></a></p>
<h3 id="Partition-to-K-Equal-Sum-Subsets—leetcode-698"><a href="#Partition-to-K-Equal-Sum-Subsets—leetcode-698" class="headerlink" title="Partition-to-K-Equal-Sum-Subsets—leetcode 698"></a><a href="https://leetcode.com/problems/partition-to-k-equal-sum-subsets/description/" target="_blank" rel="noopener">Partition-to-K-Equal-Sum-Subsets</a>—leetcode 698</h3><h4 id="题目-16"><a href="#题目-16" class="headerlink" title="题目"></a>题目</h4><p>Given an array of integers nums and a positive integer k, find whether it’s possible to divide this array into k non-empty subsets whose sums are all equal.</p>
<p><code>Example 1</code>:</p>
<pre><code>* Input: nums = [4, 3, 2, 3, 5, 2, 1], k = 4
* Output: True
* Explanation: It&#39;s possible to divide it into 4 subsets (5), (1, 4), (2,3), (2,3) with equal sums.
</code></pre><p><code>Note</code>:</p>
<ul>
<li>1 &lt;= k &lt;= len(nums) &lt;= 16.</li>
<li>0 &lt; nums[i] &lt; 10000</li>
</ul>
<h4 id="思路-14"><a href="#思路-14" class="headerlink" title="思路"></a>思路</h4><p>先排好序，然后对当前剩余的最大的数，判断是否存在一组数使等于平均值。通过将两个数相加，一直归并，如果不成立，则回溯，直到成立，或者没有选择则返回False</p>
<h4 id="代码-16"><a href="#代码-16" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canPartitionKSubsets</span><span class="params">(self, nums, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n=len(nums)</span><br><span class="line">        s , res= divmod(sum(nums),k)</span><br><span class="line">        <span class="keyword">if</span> res!=<span class="number">0</span> :<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        nums.sort()</span><br><span class="line">        <span class="keyword">return</span> self._util(nums,s,k)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_util</span><span class="params">(self,nums,s,n)</span>:</span></span><br><span class="line"><span class="comment">#print(nums,s,n)</span></span><br><span class="line">        <span class="keyword">if</span> nums == [] <span class="keyword">and</span> n==<span class="number">0</span>:<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">elif</span> nums ==[] <span class="keyword">or</span> n==<span class="number">0</span>:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">-1</span>] &gt;s:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">elif</span> nums[<span class="number">-1</span>] ==s:<span class="keyword">return</span> self._util(nums[:<span class="number">-1</span>],s,n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> nums[<span class="number">-1</span>]+nums[<span class="number">0</span>]&gt;s:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">elif</span> nums[<span class="number">-1</span>]+nums[<span class="number">0</span>]==s:<span class="keyword">return</span> self._util(nums[<span class="number">1</span>:<span class="number">-1</span>],s,n<span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ln = len(nums)</span><br><span class="line">                i=<span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,ln<span class="number">-1</span>):</span><br><span class="line">                    <span class="keyword">if</span> nums[i]+nums[<span class="number">-1</span>]==s:</span><br><span class="line">                        nums.remove(nums[i])</span><br><span class="line">                        <span class="keyword">return</span> self._util(nums[:<span class="number">-1</span>],s,n<span class="number">-1</span>)</span><br><span class="line">                    <span class="keyword">elif</span> nums[i]+nums[<span class="number">-1</span>]&gt;s:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">                    li =nums[<span class="number">0</span>:j] +nums[j+<span class="number">1</span>:]</span><br><span class="line">                    li[<span class="number">-1</span>]+=nums[j]</span><br><span class="line">                    <span class="keyword">if</span> self._util(li,s,n):<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">                <span class="keyword">else</span>:<span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<h2 id="2017-12-8"><a href="#2017-12-8" class="headerlink" title="2017-12-8"></a>2017-12-8</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Word-Search-II"></a></p>
<h3 id="Word-Search-II—leetcode-212"><a href="#Word-Search-II—leetcode-212" class="headerlink" title="Word-Search-II—leetcode 212"></a><a href="https://leetcode.com/problems/word-search-ii/description/" target="_blank" rel="noopener">Word-Search-II</a>—leetcode 212</h3><h4 id="题目-17"><a href="#题目-17" class="headerlink" title="题目"></a>题目</h4><p>Given a 2D board and a list of words from the dictionary, find all words in the board.</p>
<p>Each word must be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once in a word.</p>
<p>For example,<br>Given words = <code>[&quot;oath&quot;,&quot;pea&quot;,&quot;eat&quot;,&quot;rain&quot;]</code>and board =<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [<span class="symbol">'o</span>',<span class="symbol">'a</span>',<span class="symbol">'a</span>',<span class="symbol">'n</span>'],</span><br><span class="line">  [<span class="symbol">'e</span>',<span class="symbol">'t</span>',<span class="symbol">'a</span>',<span class="symbol">'e</span>'],</span><br><span class="line">  [<span class="symbol">'i</span>',<span class="symbol">'h</span>',<span class="symbol">'k</span>',<span class="symbol">'r</span>'],</span><br><span class="line">  [<span class="symbol">'i</span>',<span class="symbol">'f</span>',<span class="symbol">'l</span>',<span class="symbol">'v</span>']</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>Return <code>[&quot;eat&quot;,&quot;oath&quot;]</code></p>
<h4 id="思路-15"><a href="#思路-15" class="headerlink" title="思路"></a>思路</h4><p>直接搜索如果遇到前缀几乎相同的，会重复很多次，很慢，所以可以利用trie树</p>
<h4 id="代码-17"><a href="#代码-17" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,val = None)</span>:</span></span><br><span class="line">        self.val = val</span><br><span class="line">        self.isKey = <span class="keyword">False</span></span><br><span class="line">        self.children = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,i)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.children[i]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> iter(self.children.values())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self,i,x)</span>:</span></span><br><span class="line">        self.children[i] = x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bool__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.children!=&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'val: '</span>+str(self.val)+<span class="string">'\nchildren: '</span>+<span class="string">' '</span>.join(self.children.keys())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delitem</span><span class="params">(self,i)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self[i]</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.root=node(<span class="string">''</span>) </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, word)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Inserts a word into the trie.</span></span><br><span class="line"><span class="string">        :type word: str</span></span><br><span class="line"><span class="string">        :rtype: void</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> word:<span class="keyword">return</span> </span><br><span class="line">        nd = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> word:</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span>  nd:</span><br><span class="line">                <span class="keyword">if</span> i==child.val:</span><br><span class="line">                    nd = nd[i]</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                newNode= node(i)</span><br><span class="line">                nd[i] = newNode</span><br><span class="line">                nd = newNode</span><br><span class="line">        <span class="keyword">else</span>:nd.isKey = <span class="keyword">True</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'preOrderTraverse  data of the Trie'</span>)</span><br><span class="line">        self.preOrder(self.root,<span class="string">''</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrder</span><span class="params">(self,root,s)</span>:</span></span><br><span class="line">        s=s+root.val</span><br><span class="line">        <span class="keyword">if</span>  root.isKey:</span><br><span class="line">            print(s)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> root:</span><br><span class="line">            self.preOrder(i,s)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findWords</span><span class="params">(self, board, words)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type board: List[List[str]]</span></span><br><span class="line"><span class="string">        :type words: List[str]</span></span><br><span class="line"><span class="string">        :rtype: List[str]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.trie = Trie()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> words:</span><br><span class="line">            self.trie.insert(i)</span><br><span class="line"><span class="comment">#self.trie.display()</span></span><br><span class="line">        self.rst = &#123;&#125;</span><br><span class="line">        self.data=board</span><br><span class="line">        self.n = len(board[<span class="number">0</span>])</span><br><span class="line">        self.m = len(board)</span><br><span class="line">        <span class="keyword">for</span> nd <span class="keyword">in</span> self.trie.root:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(self.m):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(self.n):</span><br><span class="line">                    <span class="keyword">if</span> nd.val ==board[i][j]:</span><br><span class="line">                        self.f(nd,i,j,<span class="string">''</span>)</span><br><span class="line">        <span class="keyword">return</span> list(self.rst.values())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(self,nd,i,j,s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns if the word is in the trie.</span></span><br><span class="line"><span class="string">        :type word: str</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> (<span class="number">0</span>&lt;=i&lt;self.m <span class="keyword">and</span> <span class="number">0</span>&lt;=j&lt;self.n) ) :<span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span>  nd.val!=self.data[i][j]:<span class="keyword">return</span> </span><br><span class="line">        s=s+nd.val</span><br><span class="line">        <span class="keyword">if</span> nd.isKey:self.rst[s]=s</span><br><span class="line">        tmp = self.data[i][j]</span><br><span class="line">        self.data[i][j]=<span class="keyword">None</span></span><br><span class="line">        bl = <span class="keyword">False</span></span><br><span class="line">        offset=[(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">-1</span>,<span class="number">0</span>),(<span class="number">0</span>,<span class="number">1</span>),(<span class="number">0</span>,<span class="number">-1</span>)]</span><br><span class="line">        <span class="keyword">for</span> child <span class="keyword">in</span> nd:</span><br><span class="line">            <span class="keyword">for</span> g,h <span class="keyword">in</span> offset:</span><br><span class="line">                self.f(child,i+g,j+h,s)</span><br><span class="line">        self.data[i][j]=tmp</span><br></pre></td></tr></table></figure>
<h2 id="2017-12-5"><a href="#2017-12-5" class="headerlink" title="2017-12-5"></a>2017-12-5</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Clone-Graph"></a></p>
<h3 id="Clone-Graph—leetcode-133"><a href="#Clone-Graph—leetcode-133" class="headerlink" title="Clone-Graph—leetcode 133"></a><a href="https://leetcode.com/problems/clone-graph/description/" target="_blank" rel="noopener">Clone-Graph</a>—leetcode 133</h3><h4 id="题目-18"><a href="#题目-18" class="headerlink" title="题目"></a>题目</h4><p>Clone an undirected graph. Each node in the graph contains a label and a list of its neighbors.</p>
<p>OJ’s undirected graph serialization:<br>Nodes are labeled uniquely.</p>
<p>We use # as a separator for each node, and , as a separator for node label and each neighbor of the node.<br>As an example, consider the serialized graph {0,1,2#1,2#2,2}.</p>
<p>The graph has a total of three nodes, and therefore contains three parts as separated by #.</p>
<p>First node is labeled as 0. Connect node 0 to both nodes 1 and 2.<br>Second node is labeled as 1. Connect node 1 to node 2.<br>Third node is labeled as 2. Connect node 2 to node 2 (itself), thus forming a self-cycle.<br>Visually, the graph looks like the following:<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   <span class="number">1</span></span><br><span class="line">  <span class="string">/</span> <span class="string">\</span></span><br><span class="line"> <span class="string">/</span>   <span class="string">\</span></span><br><span class="line"><span class="number">0</span> <span class="meta">---</span> <span class="number">2</span></span><br><span class="line">     <span class="string">/</span> <span class="string">\</span></span><br><span class="line">     <span class="string">\_/</span></span><br></pre></td></tr></table></figure></p>
<h4 id="思路-16"><a href="#思路-16" class="headerlink" title="思路"></a>思路</h4><p>dfs,以及记录哪些被访问了，而且要注意复制的时候用self.nd里的结点</p>
<h4 id="代码-18"><a href="#代码-18" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Definition for a undirected graph node</span></span><br><span class="line"><span class="comment">## class UndirectedGraphNode:</span></span><br><span class="line"><span class="comment">## def __init__(self, x):</span></span><br><span class="line"><span class="comment">## self.label = x</span></span><br><span class="line"><span class="comment">## self.neighbors = []</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># @param node, a undirected graph node</span></span><br><span class="line"><span class="comment"># @return a undirected graph node</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.nd=&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cloneGraph</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> node :<span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        cur = UndirectedGraphNode(node.label)</span><br><span class="line">        self.nd[cur.label]=cur</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> node.neighbors:</span><br><span class="line">            <span class="keyword">if</span> i.label==node.label:</span><br><span class="line">                cur.neighbors.append(cur)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> i.label <span class="keyword">in</span> self.nd:</span><br><span class="line">                cur.neighbors.append(self.nd[i.label])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ret = self.cloneGraph(i)</span><br><span class="line">                <span class="keyword">if</span> ret!=<span class="keyword">None</span> :cur.neighbors.append(ret)</span><br><span class="line">        <span class="keyword">return</span> cur</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Knight-Probability-in-Chessboard"></a></p>
<h3 id="Knight-Probability-in-Chessboard—leetcode-688"><a href="#Knight-Probability-in-Chessboard—leetcode-688" class="headerlink" title="Knight-Probability-in-Chessboard—leetcode 688"></a><a href="https://leetcode.com/problems/knight-probability-in-chessboard/description/" target="_blank" rel="noopener">Knight-Probability-in-Chessboard</a>—leetcode 688</h3><h4 id="题目-19"><a href="#题目-19" class="headerlink" title="题目"></a>题目</h4><p>On an NxN chessboard, a knight starts at the r-th row and c-th column and attempts to make exactly K moves. The rows and columns are 0 indexed, so the top-left square is (0, 0), and the bottom-right square is (N-1, N-1).</p>
<p>A chess knight has 8 possible moves it can make, as illustrated below. Each move is two squares in a cardinal direction, then one square in an orthogonal direction.<br><img src="https://leetcode.com/static/images/problemset/knight.png" alt="knight"></p>
<p>Each time the knight is to move, it chooses one of eight possible moves uniformly at random (even if the piece would go off the chessboard) and moves there.</p>
<p>The knight continues moving until it has made exactly K moves or has moved off the chessboard. Return the probability that the knight remains on the board after it has stopped moving.</p>
<ul>
<li>Example:<ul>
<li>Input: 3, 2, 0, 0</li>
<li>Output: 0.0625</li>
<li>Explanation: There are two moves (to (1,2), (2,1)) that will keep the knight on the board.<br>From each of those positions, there are also two moves that will keep the knight on the board.<br>The total probability the knight stays on the board is 0.0625.</li>
</ul>
</li>
<li>Note:<ul>
<li>N will be between 1 and 25.</li>
<li>K will be between 0 and 100.</li>
<li>The knight always initially starts on the board.</li>
</ul>
</li>
</ul>
<h4 id="思路-17"><a href="#思路-17" class="headerlink" title="思路"></a>思路</h4><p>如果用递归写会超时，重复计算太多，用动态规划，状态由k,r,c确定，注意到第二十六行代码，最开始我加的<code>dp[i-1][j][t]</code>，这样是错的，要加上由上一状态能到当前状态的，可以发现，当前状态能到上一状态的上一状态能到当前状态，</p>
<h4 id="代码-19"><a href="#代码-19" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">knightProbability</span><span class="params">(self, N, k, r, c)</span>:</span></span><br><span class="line">        self.one=[(i,j) <span class="keyword">for</span> i <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">-1</span>) <span class="keyword">for</span> j <span class="keyword">in</span> (<span class="number">2</span>,<span class="number">-2</span>)]</span><br><span class="line">        self.one+=[(j,i) <span class="keyword">for</span> i <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">-1</span>) <span class="keyword">for</span> j <span class="keyword">in</span> (<span class="number">2</span>,<span class="number">-2</span>)]</span><br><span class="line">        <span class="keyword">if</span> k==<span class="number">0</span>:<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        dp=[[[<span class="number">1</span>]*N <span class="keyword">for</span> i <span class="keyword">in</span> range(N)] <span class="keyword">for</span> j <span class="keyword">in</span> range(k+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">if</span> N&lt;<span class="number">4</span>:</span><br><span class="line">            <span class="keyword">for</span> i,j <span class="keyword">in</span> self.one:</span><br><span class="line">                tr,tc = r+i,j+c </span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span>&lt;=tr&lt;N <span class="keyword">and</span> <span class="number">0</span>&lt;=tc&lt;N:<span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,k+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(N):</span><br><span class="line">                <span class="keyword">for</span> t <span class="keyword">in</span> range(N):</span><br><span class="line">                    sm =<span class="number">0</span></span><br><span class="line">                    <span class="keyword">for</span> g,h <span class="keyword">in</span> self.one:</span><br><span class="line">                        tr,tc = j+g, t+h</span><br><span class="line">                        <span class="keyword">if</span> <span class="number">0</span>&lt;=tr&lt;N <span class="keyword">and</span> <span class="number">0</span>&lt;=tc&lt;N:</span><br><span class="line">                            sm+=dp[i<span class="number">-1</span>][tr][tc]</span><br><span class="line">                    dp[i][j][t] = sm/<span class="number">8</span></span><br><span class="line"><span class="comment">#for i in dp:print(i)</span></span><br><span class="line">        <span class="keyword">return</span> dp[k][r][c]</span><br></pre></td></tr></table></figure>
<h2 id="2017-12-4"><a href="#2017-12-4" class="headerlink" title="2017-12-4"></a>2017-12-4</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Trim-a-Binary-Search-Tree"></a></p>
<h3 id="Trim-a-Binary-Search-Tree—leetcode-669"><a href="#Trim-a-Binary-Search-Tree—leetcode-669" class="headerlink" title="Trim-a-Binary-Search-Tree—leetcode 669"></a><a href="https://leetcode.com/problems/trim-a-binary-search-tree/description/" target="_blank" rel="noopener">Trim-a-Binary-Search-Tree</a>—leetcode 669</h3><h4 id="题目-20"><a href="#题目-20" class="headerlink" title="题目"></a>题目</h4><p>Given a binary search tree and the lowest and highest boundaries as L and R, trim the tree so that all its elements lies in [L, R] (R &gt;= L). You might need to change the root of the tree, so the result should return the new root of the trimmed binary search tree.</p>
<h4 id="思路-18"><a href="#思路-18" class="headerlink" title="思路"></a>思路</h4><h4 id="代码-20"><a href="#代码-20" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">trimBST</span><span class="params">(self, root, L, R)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type L: int</span></span><br><span class="line"><span class="string">        :type R: int</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:<span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">if</span> L&gt;root.val:</span><br><span class="line">            <span class="keyword">return</span> self.trimBST(root.right,L,R)</span><br><span class="line">        <span class="keyword">elif</span> R&lt;root.val:</span><br><span class="line">            <span class="keyword">return</span> self.trimBST(root.left,L,R)</span><br><span class="line">        root.left=self.trimBST(root.left,L,R)</span><br><span class="line">        root.right=self.trimBST(root.right,L,R)</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Number-of-Longest-Increasing-Subsequence"></a></p>
<h3 id="Number-of-Longest-Increasing-Subsequence—leetcode-673"><a href="#Number-of-Longest-Increasing-Subsequence—leetcode-673" class="headerlink" title="Number-of-Longest-Increasing-Subsequence—leetcode 673"></a><a href="https://leetcode.com/problems/number-of-longest-increasing-subsequence/description/" target="_blank" rel="noopener">Number-of-Longest-Increasing-Subsequence</a>—leetcode 673</h3><h4 id="题目-21"><a href="#题目-21" class="headerlink" title="题目"></a>题目</h4><p>Given an unsorted array of integers, find the number of longest increasing subsequence.<br>Input: [2,2,2,2,2]<br>Output: 5</p>
<h4 id="思路-19"><a href="#思路-19" class="headerlink" title="思路"></a>思路</h4><p>找最长子序列dp很好找，但是要求数目的话，还需要对最长序列的第几个字符进行一次dp，这里编程实现还是有点麻烦，要考虑相同的字符<br>如果相同的subsequence不计，只需将31，32两行改为<code>dics[t+1][i]=ct</code><br><strong>总结</strong><br>做了近两个月的题，我好菜呀</p>
<h4 id="代码-21"><a href="#代码-21" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findNumberOfLIS</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        maxval,minval,n=nums[<span class="number">0</span>],nums[<span class="number">0</span>],<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> i&gt;maxval:maxval = i</span><br><span class="line">            <span class="keyword">if</span> i&lt;minval:minval=i</span><br><span class="line">            n+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> maxval==minval:<span class="keyword">return</span> n</span><br><span class="line">        </span><br><span class="line">        dics=[&#123;<span class="number">-1</span>&lt;&lt;<span class="number">30</span>:<span class="number">1</span>&#125;]</span><br><span class="line">        mn=[<span class="number">-1</span>&lt;&lt;<span class="number">30</span>]</span><br><span class="line">        lv=<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span>  range(lv):</span><br><span class="line">                t = lv<span class="number">-1</span>-j</span><br><span class="line">                <span class="keyword">if</span> i&gt;mn[t]:</span><br><span class="line">                    ct=<span class="number">0</span></span><br><span class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> dics[t]:</span><br><span class="line">                        <span class="keyword">if</span> i&gt;k:ct+=dics[t][k]</span><br><span class="line">                    <span class="keyword">if</span> t+<span class="number">1</span>==lv:  <span class="comment"># t+1 out of range, append</span></span><br><span class="line">                        mn.append(i)</span><br><span class="line">                        dics.append(&#123;i:ct&#125;)</span><br><span class="line">                        lv+=<span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        mn[t+<span class="number">1</span>] = min(i,mn[t+<span class="number">1</span>])</span><br><span class="line">                        <span class="keyword">if</span> i <span class="keyword">in</span> dics[t+<span class="number">1</span>]:dics[t+<span class="number">1</span>][i]+=ct</span><br><span class="line">                        <span class="keyword">else</span>:dics[t+<span class="number">1</span>][i]=ct</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"><span class="comment">#print(dics,mn)</span></span><br><span class="line">        <span class="keyword">return</span> sum(dics[<span class="number">-1</span>].values())</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Daily-Temperatures"></a></p>
<h3 id="Daily-Temperatures—leetcode-729"><a href="#Daily-Temperatures—leetcode-729" class="headerlink" title="Daily-Temperatures—leetcode 729"></a><a href="https://leetcode.com/contest/weekly-contest-61/problems/daily-temperatures/" target="_blank" rel="noopener">Daily-Temperatures</a>—leetcode 729</h3><h4 id="题目-22"><a href="#题目-22" class="headerlink" title="题目"></a>题目</h4><p>Given a list of daily temperatures, produce a list that, for each day in the input, tells you how many days you would have to wait until a warmer temperature. If there is no future day for which this is possible, put 0 instead.</p>
<p>For example, given the list temperatures = [73, 74, 75, 71, 69, 72, 76, 73], your output should be [1, 1, 4, 2, 1, 1, 0, 0].</p>
<p>Note: The length of temperatures will be in the range [1, 30000]. Each temperature will be an integer in the range [30, 100].</p>
<h4 id="思路-20"><a href="#思路-20" class="headerlink" title="思路"></a>思路</h4><p>看了别人的答案，以及评论（如下），自己再写的，</p>
<blockquote>
<p>When I saw the question in this competition, I firstly think about Monotonous stack inspired by Largest Rectangle in Histogram.<br>Because Monotonous stack can help us find first largest element in O(n) time complexity.<br>But I can’t implement use Monotonous stack idea to solve the problem.But you did it, brilliant bro.</p>
</blockquote>
<p><strong>总结</strong><br>多读书</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dailyTemperatures</span><span class="params">(self, temperatures)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type temperatures: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(temperatures)</span><br><span class="line">        stk =[]</span><br><span class="line">        rst=[<span class="number">0</span>]*n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">while</span> stk <span class="keyword">and</span> temperatures[stk[<span class="number">-1</span>]]&lt;temperatures[i]:</span><br><span class="line">                tmp = stk.pop()</span><br><span class="line">                rst[tmp]=i-tmp</span><br><span class="line">            stk.append(i)</span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-12-1"><a href="#2017-12-1" class="headerlink" title="2017-12-1"></a>2017-12-1</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Merge-k-Sorted-Lists"></a></p>
<h3 id="Merge-k-Sorted-Lists-—leetcode23"><a href="#Merge-k-Sorted-Lists-—leetcode23" class="headerlink" title="Merge-k-Sorted-Lists  —leetcode23"></a><a href="https://leetcode.com/problems/merge-k-sorted-lists/description/" target="_blank" rel="noopener">Merge-k-Sorted-Lists</a>  —leetcode23</h3><h4 id="题目-23"><a href="#题目-23" class="headerlink" title="题目"></a>题目</h4><p>Merge k sorted linked lists and return it as one sorted list. Analyze and describe its complexity.</p>
<h4 id="思路-21"><a href="#思路-21" class="headerlink" title="思路"></a>思路</h4><p>多路归并，用堆更快，而且python中提供了此模块heapq，注意其用法，这不是一个类，而是一些函数，还有就是merge函数接收的是一些lists，所以要将data解包，见代码21行</p>
<h4 id="代码-22"><a href="#代码-22" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Definition for singly-linked list.</span></span><br><span class="line"><span class="comment">## class ListNode:</span></span><br><span class="line"><span class="comment">## def __init__(self, x):</span></span><br><span class="line"><span class="comment">## self.val = x</span></span><br><span class="line"><span class="comment">## self.next = None</span></span><br><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type lists: List[ListNode]</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        li=[i <span class="keyword">for</span> i <span class="keyword">in</span> lists <span class="keyword">if</span> i !=<span class="keyword">None</span>]</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> li:<span class="keyword">return</span> []</span><br><span class="line">        data=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">            data.append([])</span><br><span class="line">            <span class="keyword">while</span> i!=<span class="keyword">None</span>:</span><br><span class="line">                data[<span class="number">-1</span>].append(i.val)</span><br><span class="line">                i=i.next</span><br><span class="line">        hp =list(heapq.merge(*data))</span><br><span class="line">        rst = ListNode(heapq.heappop(hp))</span><br><span class="line">        last = rst</span><br><span class="line">        <span class="keyword">while</span> hp:</span><br><span class="line">            last.next=ListNode(heapq.heappop(hp))</span><br><span class="line">            last = last.next</span><br><span class="line">        last.next = <span class="keyword">None</span></span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-11-27"><a href="#2017-11-27" class="headerlink" title="2017-11-27"></a>2017-11-27</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Longest-Palindromic-Substring"></a></p>
<h3 id="Longest-Palindromic-Substring"><a href="#Longest-Palindromic-Substring" class="headerlink" title="Longest-Palindromic-Substring"></a><a href="https://leetcode.com/problems/longest-palindromic-substring/description/" target="_blank" rel="noopener">Longest-Palindromic-Substring</a></h3><h4 id="题目-24"><a href="#题目-24" class="headerlink" title="题目"></a>题目</h4><p>Given a string s, find the longest palindromic substring in s. You may assume that the maximum length of s is 1000.</p>
<h4 id="思路-22"><a href="#思路-22" class="headerlink" title="思路"></a>思路</h4><p>由于回文的对称性。为减少匹配， 可以用<a href="https://baike.baidu.com/item/Manachar%E7%AE%97%E6%B3%95/20415813?fr=aladdin" target="_blank" rel="noopener">Manacher算法</a></p>
<h4 id="代码-23"><a href="#代码-23" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        s2=<span class="string">'$#'</span>+<span class="string">'#'</span>.join(s)+<span class="string">'#@'</span></span><br><span class="line">        ct =[<span class="number">0</span>]*(<span class="number">2</span>*n+<span class="number">4</span>)</span><br><span class="line">        mid=<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> cur <span class="keyword">in</span>  range(<span class="number">1</span>,<span class="number">2</span>*n+<span class="number">2</span>):</span><br><span class="line">            <span class="keyword">if</span> cur&lt;mid+ct[mid]:</span><br><span class="line">                ct[cur] = min(ct[<span class="number">2</span>*mid-cur],mid+ct[mid]-cur)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ct[cur]=<span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> s2[cur-ct[cur]]==s2[cur+ct[cur]]:</span><br><span class="line">                ct[cur]+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cur+ct[cur] &gt; mid+ct[mid]:mid = cur</span><br><span class="line">        mx = max(ct)</span><br><span class="line">        idxs = [i <span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(ct) <span class="keyword">if</span> j == mx]</span><br><span class="line">        p = idxs[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> idxs:</span><br><span class="line">            <span class="keyword">if</span> s2[i]==<span class="string">'#'</span>:p = i</span><br><span class="line">        rst =s2[p-mx+<span class="number">1</span>:p+mx].replace(<span class="string">'#'</span>,<span class="string">''</span>)</span><br><span class="line">        <span class="keyword">return</span>  rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-11-18"><a href="#2017-11-18" class="headerlink" title="2017-11-18"></a>2017-11-18</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Decode-Ways"></a></p>
<h3 id="Decode-Ways-—leetcode-91"><a href="#Decode-Ways-—leetcode-91" class="headerlink" title="Decode-Ways —leetcode 91"></a><a href="https://leetcode.com/problems/decode-ways/description/" target="_blank" rel="noopener">Decode-Ways</a> —leetcode 91</h3><h4 id="题目-25"><a href="#题目-25" class="headerlink" title="题目"></a>题目</h4><p>A message containing letters from A-Z is being encoded to numbers using the following mapping:</p>
<p>‘A’ -&gt; 1<br>‘B’ -&gt; 2<br>…<br>‘Z’ -&gt; 26<br>Given an encoded message containing digits, determine the total number of ways to decode it.</p>
<p>For example,<br>Given encoded message “12”, it could be decoded as “AB” (1 2) or “L” (12).</p>
<p>The number of ways decoding “12” is 2.</p>
<h4 id="思路-23"><a href="#思路-23" class="headerlink" title="思路"></a>思路</h4><p>这道题用动态规划，可以发现，<br>[ f(n+1)=\begin{cases}<br>f(n),\quad when \ \ p(s[n]) \\<br>f(n-k)*fib(k),\quad when\ p(s[k]),p(s[k+1]) …p(s[n])    &gt;0<br>\end{cases} ]<br>f(n)表示位数有多少种，  fib(N)求fibnaci数列，fib(0)=1,fi(1)=1 ,p(s[n])表示满足性质,大体上是这未为1或2，这样就可能有多种选择， 但要考虑27，28，29，不存在，以及，下一位为0的时候也不算， 具体实现见代码<br>注意到当后k位都满足p时， 则分步计数，f(n-k) 已经算出，求后面k位有多少种，即时fib数列，然后乘起来即可</p>
<h4 id="代码-24"><a href="#代码-24" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numDecodings</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">or</span> s[<span class="number">0</span>]==<span class="string">'0'</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.fibNum = [<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">        ct = <span class="number">0</span></span><br><span class="line">        cur = <span class="number">1</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line"><span class="comment">#print(i,cur,ct)</span></span><br><span class="line">            <span class="keyword">if</span> s[i]==<span class="string">'1'</span>  <span class="keyword">or</span> s[i]==<span class="string">'2'</span> :</span><br><span class="line">                <span class="keyword">if</span> i==n<span class="number">-1</span>:ct+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> <span class="keyword">not</span>(s[i+<span class="number">1</span>]==<span class="string">'0'</span> <span class="keyword">or</span> (s[i]==<span class="string">'2'</span> <span class="keyword">and</span> s[i+<span class="number">1</span>]&gt;<span class="string">'6'</span>)): ct+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> s[i] == <span class="string">'0'</span> <span class="keyword">and</span> (s[i<span class="number">-1</span>] &gt;<span class="string">'2'</span> <span class="keyword">or</span> s[i<span class="number">-1</span>]==<span class="string">'0'</span>):<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> s[i]==<span class="string">'0'</span>:</span><br><span class="line">                    cur*= self.fib(ct)</span><br><span class="line">                <span class="keyword">else</span>:cur*= self.fib(ct+<span class="number">1</span>)</span><br><span class="line">                ct=<span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:cur*= self.fib(ct)</span><br><span class="line">        <span class="keyword">return</span> cur</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(self,n)</span>:</span></span><br><span class="line">        sz=len(self.fibNum)</span><br><span class="line">        <span class="keyword">if</span> n&lt;sz:</span><br><span class="line">            <span class="keyword">return</span> self.fibNum[n]</span><br><span class="line">        a,b = self.fibNum[<span class="number">-2</span>:]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(sz,n+<span class="number">1</span>):</span><br><span class="line">            a,b = b,a+b</span><br><span class="line">            self.fibNum.append(b)</span><br><span class="line">        <span class="keyword">return</span> self.fibNum[n]</span><br></pre></td></tr></table></figure>
<p><strong>其他</strong><br>这里有稍微难一点的<br><a href="https://leetcode.com/problems/decode-ways-ii/description/" target="_blank" rel="noopener">Decode-Ways II</a>  —leetcode 639</p>
<p>A message containing letters from A-Z is being encoded to numbers using the following mapping way:</p>
<p>‘A’ -&gt; 1<br>‘B’ -&gt; 2<br>…<br>‘Z’ -&gt; 26<br>Beyond that, now the encoded string can also contain the character ‘*’, which can be treated as one of the numbers from 1 to 9.</p>
<p>Given the encoded message containing digits and the character ‘*’, return the total number of ways to decode it.</p>
<p>Also, since the answer may be very large, you should return the output mod 109 + 7.</p>
<p><code>Example 1</code>:</p>
<ul>
<li>Input: “*”</li>
<li>Output: 9</li>
<li>Explanation: The encoded message can be decoded to the string: “A”, “B”, “C”, “D”, “E”, “F”, “G”, “H</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numDecodings</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> s[<span class="number">0</span>]==<span class="string">'0'</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        n = len(s)</span><br><span class="line">        last = <span class="number">1</span></span><br><span class="line">        ans=<span class="number">9</span> <span class="keyword">if</span> s[<span class="number">0</span>]==<span class="string">'*'</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n):</span><br><span class="line">            <span class="keyword">if</span> s[i]==<span class="string">'*'</span>:</span><br><span class="line">                tmp = last</span><br><span class="line">                last = ans</span><br><span class="line">                <span class="keyword">if</span> s[i<span class="number">-1</span>]==<span class="string">'1'</span> :</span><br><span class="line">                    ans= ans*<span class="number">9</span>+tmp*<span class="number">9</span></span><br><span class="line">                <span class="keyword">elif</span> s[i<span class="number">-1</span>]==<span class="string">'2'</span>:</span><br><span class="line">                    ans= ans*<span class="number">9</span>+tmp*<span class="number">6</span></span><br><span class="line">                <span class="keyword">elif</span> s[i<span class="number">-1</span>]==<span class="string">'*'</span>:</span><br><span class="line">                    ans= ans*<span class="number">9</span>+tmp*<span class="number">15</span>                    </span><br><span class="line">                <span class="keyword">else</span>:ans*=<span class="number">9</span></span><br><span class="line">            <span class="keyword">elif</span> s[i]==<span class="string">'0'</span>:</span><br><span class="line">                tmp = last</span><br><span class="line">                last = ans</span><br><span class="line">                <span class="keyword">if</span> s[i<span class="number">-1</span>]==<span class="string">'*'</span>:</span><br><span class="line">                    ans = tmp * <span class="number">2</span></span><br><span class="line">                <span class="keyword">elif</span> s[i<span class="number">-1</span>] <span class="keyword">in</span> <span class="string">'12'</span>:ans = tmp</span><br><span class="line">                <span class="keyword">else</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp = last</span><br><span class="line">                last = ans</span><br><span class="line">                <span class="keyword">if</span> s[i<span class="number">-1</span>]==<span class="string">'1'</span> :</span><br><span class="line">                    ans+=tmp</span><br><span class="line">                <span class="keyword">elif</span> s[i<span class="number">-1</span>]==<span class="string">'2'</span>:</span><br><span class="line">                    <span class="keyword">if</span> s[i]&lt;=<span class="string">'6'</span>:ans+=tmp</span><br><span class="line">                <span class="keyword">elif</span> s[i<span class="number">-1</span>]==<span class="string">'*'</span>:</span><br><span class="line">                    ans= ans+<span class="number">2</span>*tmp <span class="keyword">if</span> s[i]&lt;=<span class="string">'6'</span> <span class="keyword">else</span> ans+tmp</span><br><span class="line">        <span class="keyword">return</span> ans%(<span class="number">10</span>**<span class="number">9</span>+<span class="number">7</span>)</span><br></pre></td></tr></table></figure>
<h2 id="2017-11-13"><a href="#2017-11-13" class="headerlink" title="2017-11-13"></a>2017-11-13</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Gray-Code"></a></p>
<h3 id="Gray-Code-—leetcode-89"><a href="#Gray-Code-—leetcode-89" class="headerlink" title="Gray-Code —leetcode 89"></a><a href="https://leetcode.com/problems/gray-code/description//" target="_blank" rel="noopener">Gray-Code</a> —leetcode 89</h3><h4 id="题目-26"><a href="#题目-26" class="headerlink" title="题目"></a>题目</h4><p>The gray code is a binary numeral system where two successive values differ in only one bit.<br>Given a non-negative integer?n?representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.<br>For example, given?n?= 2, return?[0,1,3,2]. Its gray code sequence is:0132<br><code>Note</code>:<br>For a given?n, a gray code sequence is not uniquely defined.<br>For example,?[0,2,3,1]?is also a valid gray code sequence according to the above definition.<br>For now, the judge is able to judge based on one instance of gray code sequence. Sorry about that.</p>
<h4 id="思路-24"><a href="#思路-24" class="headerlink" title="思路"></a>思路</h4><p>最开始想到暴力求解：即每次求下一个数，都是列出所有可能，然后找最小的。结果TLE. 后来发现，这个顺序很像卡诺图，然后就找到规律了</p>
<h4 id="代码-25"><a href="#代码-25" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">grayCode</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        karnaugh=[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            karnaugh+=[j+<span class="number">2</span>**i <span class="keyword">for</span> j <span class="keyword">in</span> karnaugh[::<span class="number">-1</span>]]</span><br><span class="line">        <span class="keyword">return</span> karnaugh</span><br></pre></td></tr></table></figure>
<h2 id="2017-11-7"><a href="#2017-11-7" class="headerlink" title="2017-11-7"></a>2017-11-7</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Redundant-Connection"></a></p>
<h3 id="Redundant-Connectionleetcode-684"><a href="#Redundant-Connectionleetcode-684" class="headerlink" title="Redundant-Connectionleetcode 684"></a><a href="https://leetcode.com/problems/redundant-connection/description/" target="_blank" rel="noopener">Redundant-Connection</a>leetcode 684</h3><h4 id="题目-27"><a href="#题目-27" class="headerlink" title="题目"></a>题目</h4><p>In this problem, a tree is an undirected graph that is connected and has no cycles.</p>
<p>The given input is a graph that started as a tree with N nodes (with distinct values 1, 2, …, N), with one additional edge added. The added edge has two different vertices chosen from 1 to N, and was not an edge that already existed.</p>
<p>The resulting graph is given as a 2D-array of edges. Each element of edges is a pair [u, v] with u &lt; v, that represents an undirected edge connecting nodes u and v.</p>
<p>Return an edge that can be removed so that the resulting graph is a tree of N nodes. If there are multiple answers, return the answer that occurs last in the given 2D-array. The answer edge [u, v] should be in the same format, with u &lt; v</p>
<h4 id="思路-25"><a href="#思路-25" class="headerlink" title="思路"></a>思路</h4><p>这道题即判断图是否存在环。很简单，用并查集来做即可，c++代码只需一行</p>
<h4 id="代码-26"><a href="#代码-26" class="headerlink" title="代码"></a>代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Solution()&#123;<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1001</span>;++i)s[i]=i;&#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; findRedundantConnection(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; edges) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;edges.size();++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(findset(edges[i][<span class="number">0</span>])==findset(edges[i][<span class="number">1</span>]))&#123;</span><br><span class="line">                <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rst;</span><br><span class="line">                rst.push_back(edges[i][<span class="number">0</span>]);</span><br><span class="line">                rst.push_back(edges[i][<span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">return</span> rst;</span><br><span class="line">            &#125;</span><br><span class="line">            merge(edges[i][<span class="number">0</span>],edges[i][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> x)</span></span>&#123;s[findset(n)]=s[findset(x)];&#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findset</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;<span class="keyword">return</span> s[i]!=i?s[i]=findset(s[i]):i;&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> s[<span class="number">10001</span>];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="2017-11-4"><a href="#2017-11-4" class="headerlink" title="2017-11-4"></a>2017-11-4</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Evaluate-Division"></a></p>
<h3 id="Evaluate-Division-—leetcode-399"><a href="#Evaluate-Division-—leetcode-399" class="headerlink" title="Evaluate-Division —leetcode 399"></a><a href="https://leetcode.com/problems/evaluate-division/description/" target="_blank" rel="noopener">Evaluate-Division</a> —leetcode 399</h3><h4 id="题目-28"><a href="#题目-28" class="headerlink" title="题目"></a>题目</h4><p>Equations are given in the format A / B = k, where A and B are variables represented as strings, and k is a real number (floating point number). Given some queries, return the answers. If the answer does not exist, return -1.0.</p>
<p>Example:<br>Given <code>a / b = 2.0, b / c = 3.0.</code><br>queries are:<code>a / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ? .</code><br>return <code>[6.0, 0.5, -1.0, 1.0, -1.0 ].</code></p>
<p>The input is: vector<pair<string, string="">&gt; equations, vector<double>&amp; values, vector<pair<string, string="">&gt; queries , where equations.size() == values.size(), and the values are positive. This represents the equations. Return vector<double>.</double></pair<string,></double></pair<string,></p>
<p>According to the example above:</p>
<pre><code>    equations = [ [&quot;a&quot;, &quot;b&quot;], [&quot;b&quot;, &quot;c&quot;] ],
    values = [2.0, 3.0],
    queries = [ [&quot;a&quot;, &quot;c&quot;], [&quot;b&quot;, &quot;a&quot;], [&quot;a&quot;, &quot;e&quot;], [&quot;a&quot;, &quot;a&quot;], [&quot;x&quot;, &quot;x&quot;] ]. 
</code></pre><p>The input is always valid. You may assume that evaluating the queries will result in no division by zero and there is no contradiction.</p>
<h4 id="思路-26"><a href="#思路-26" class="headerlink" title="思路"></a>思路</h4><p>这道题由于是除法，会想到有向图，但是发现，a-&gt;b, c-&gt;b有可以推出a,b关系，所以连通即可。为了能方便搜索，我又增加了一条反向边vuy(代码第161行)，当然权值为倒数，可是这样增加了深搜难度，于是要解决环的搜索问题(代码第127行)</p>
<h4 id="代码-27"><a href="#代码-27" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable,deque</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">vertex</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,mark,val=None ,firstEdge = None)</span>:</span></span><br><span class="line">        self.mark = mark</span><br><span class="line">        self.val = val</span><br><span class="line">        self.firstEdge = firstEdge</span><br><span class="line">        self.isVisited = <span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">'0'</span>&lt;=self.mark[<span class="number">0</span>]&lt;=<span class="string">'9'</span>:<span class="keyword">return</span> <span class="string">'v'</span>+str(self.mark)</span><br><span class="line">        <span class="keyword">return</span> str(self.mark)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        li=[]</span><br><span class="line">        arc= self.firstEdge</span><br><span class="line">        <span class="keyword">while</span> arc!=<span class="keyword">None</span>:</span><br><span class="line">            li.append(arc)</span><br><span class="line">            arc= arc.outNextEdge</span><br><span class="line">        <span class="keyword">return</span> str(self)+ <span class="string">'  to:'</span>+str([str(i.inArrow) <span class="keyword">for</span> i <span class="keyword">in</span> li])</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">edge</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,outArrow,inArrow,outNextEdge = None,inNextEdge = None, weight = <span class="number">1</span>)</span>:</span> </span><br><span class="line">        self.weight = weight</span><br><span class="line">        self.inNextEdge = inNextEdge </span><br><span class="line">        self.outNextEdge = outNextEdge</span><br><span class="line">        self.outArrow = outArrow</span><br><span class="line">        self.inArrow=inArrow</span><br><span class="line">        self.isVisited = <span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'--'</span>+str(self.weight)+<span class="string">'--&gt;'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">graph</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span> </span><br><span class="line">        self.vertexs = &#123;&#125;</span><br><span class="line">        self.edges = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,i)</span>:</span> </span><br><span class="line">        <span class="keyword">return</span> self.vertexs[i]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(selfi,x)</span>:</span></span><br><span class="line">        self.vertexs[i]= x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> iter(self.vertexs.values())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bool__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.vertexs)!=<span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addVertex</span><span class="params">(self,vertexs)</span>:</span></span><br><span class="line">        <span class="string">'''vertexs is a iterable or just a mark that marks the vertex,whichc can be every imutable type'''</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(vertexs,Iterable):vertexs=[vertexs]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> vertexs:</span><br><span class="line">            <span class="keyword">if</span>  <span class="keyword">not</span> isinstance(i,vertex) <span class="keyword">and</span>  i <span class="keyword">not</span> <span class="keyword">in</span> self.vertexs:self.vertexs[i]= vertex(i)</span><br><span class="line">            <span class="keyword">if</span> isinstance(i,vertex) <span class="keyword">and</span>  i <span class="keyword">not</span> <span class="keyword">in</span> self.vertexs:self.vertexs[i.mark]= i</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isConnected</span><span class="params">(self,v,u)</span>:</span></span><br><span class="line">        v = self.__getVertex(v)</span><br><span class="line">        u = self.__getVertex(u)</span><br><span class="line">        arc= v.firstEdge</span><br><span class="line">        <span class="keyword">while</span> arc!=<span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">if</span> arc.inArrow==u:<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            arc = arc.inNextEdge</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getVertex</span><span class="params">(self,v)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(v,vertex):</span><br><span class="line">            <span class="keyword">if</span> v <span class="keyword">not</span> <span class="keyword">in</span> self.vertexs:</span><br><span class="line">                self.vertexs[v]=vertex(v)</span><br><span class="line">            <span class="keyword">return</span> self.vertexs[v]</span><br><span class="line">        <span class="keyword">return</span> v</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addEdge</span><span class="params">(self,v,u,weight = <span class="number">1</span>)</span>:</span></span><br><span class="line">        v = self.__getVertex(v)</span><br><span class="line">        u = self.__getVertex(u)</span><br><span class="line">        arc = v.firstEdge</span><br><span class="line">        <span class="keyword">while</span> arc!=<span class="keyword">None</span>:         <span class="comment">#examine that if v,u have been already connected</span></span><br><span class="line">            <span class="keyword">if</span> arc.inArrow==u: <span class="keyword">return</span></span><br><span class="line">            arc= arc.outNextEdge</span><br><span class="line">        newEdge = edge(v,u,v.firstEdge,u.firstEdge,weight)</span><br><span class="line">        self.edges[(v.mark,u.mark)] = newEdge</span><br><span class="line">        v.firstEdge = newEdge</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delEdge</span><span class="params">(self,v,u)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(v,vertex):v= self.vertexs[v]</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(u,vertex):u= self.vertexs[u]</span><br><span class="line">        self._unrelated(v,u)</span><br><span class="line">        <span class="keyword">del</span> self.edges[(v.mark,u.mark)]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_unrelated</span><span class="params">(self,v,u)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> v.firstEdge==<span class="keyword">None</span>:<span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">if</span> v.firstEdge.inArrow == u:</span><br><span class="line">            v.firstEdge =v.firstEdge.outNextEdge</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            arc = v.firstEdge</span><br><span class="line">            <span class="keyword">while</span> arc.outNextEdge!=<span class="keyword">None</span>:</span><br><span class="line">                 <span class="keyword">if</span> arc.outNextEdge.inArrow ==u:</span><br><span class="line">                     arc.outNextEdge = arc.outNextEdge.outNextEdge</span><br><span class="line">                     <span class="keyword">break</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">revisit</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.vertexs:</span><br><span class="line">            self.vertexs[i].isVisited=<span class="keyword">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.edges:</span><br><span class="line">            self.edges[i].isVisited=<span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        arcs= list(self.edges.keys())</span><br><span class="line">        arcs=[str(i[<span class="number">0</span>])+<span class="string">'---&gt;'</span>+str(i[<span class="number">1</span>])+<span class="string">'  weight:'</span>+str(self.edges[i].weight) <span class="keyword">for</span> i <span class="keyword">in</span> arcs]</span><br><span class="line">        s= <span class="string">'\n'</span>.join(arcs)</span><br><span class="line">        <span class="keyword">return</span> s</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">notIn</span><span class="params">(self,v)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> (isinstance(v,vertex) <span class="keyword">and</span>  v.mark <span class="keyword">not</span> <span class="keyword">in</span> self.vertexs) <span class="keyword">or</span> v <span class="keyword">not</span> <span class="keyword">in</span> self.vertexs:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visitPath</span><span class="params">(self,v,u)</span>:</span></span><br><span class="line">        <span class="string">'''bfs'''</span></span><br><span class="line">        <span class="keyword">if</span> self.notIn(v) <span class="keyword">or</span>  self.notIn(u):</span><br><span class="line">            <span class="keyword">return</span>  <span class="keyword">None</span>,<span class="keyword">None</span></span><br><span class="line">        v = self.__getVertex(v)</span><br><span class="line">        u = self.__getVertex(u)</span><br><span class="line">        <span class="keyword">if</span> v.firstEdge==<span class="keyword">None</span>:<span class="keyword">return</span> <span class="keyword">None</span>,<span class="keyword">None</span></span><br><span class="line">        q=deque([v.firstEdge])</span><br><span class="line">        isFind=<span class="keyword">False</span></span><br><span class="line">        vs,es=[],[]</span><br><span class="line">        <span class="keyword">while</span> len(q)!=<span class="number">0</span>:</span><br><span class="line">            vs,es=[],[]</span><br><span class="line">            arc= q.popleft()</span><br><span class="line">            <span class="keyword">if</span> arc.outNextEdge!=<span class="keyword">None</span> <span class="keyword">and</span> <span class="keyword">not</span> arc.outNextEdge.isVisited:q.append(arc.outNextEdge)</span><br><span class="line">            <span class="keyword">while</span> arc!=<span class="keyword">None</span>:</span><br><span class="line">                <span class="keyword">if</span> arc.isVisited:<span class="keyword">break</span></span><br><span class="line">                arc.isVisited=<span class="keyword">True</span></span><br><span class="line">                es.append(arc)</span><br><span class="line">                vs.append(arc.inArrow)</span><br><span class="line">                arc.outArrow.isVisited=<span class="keyword">True</span></span><br><span class="line">                <span class="keyword">if</span> arc.inArrow==u:</span><br><span class="line">                     isFind=<span class="keyword">True</span></span><br><span class="line">                     <span class="keyword">break</span></span><br><span class="line">                arc = arc.inArrow.firstEdge</span><br><span class="line">                <span class="keyword">while</span> arc.inArrow.isVisited <span class="keyword">and</span> arc.outNextEdge:arc = arc.outNextEdge</span><br><span class="line">            <span class="keyword">if</span> isFind:<span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:<span class="keyword">return</span> <span class="keyword">None</span>,<span class="keyword">None</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        se = [str(i) for i in es]</span></span><br><span class="line"><span class="string">        sv = [str(i)  for i in vs]</span></span><br><span class="line"><span class="string">        print(str(v),end='')</span></span><br><span class="line"><span class="string">        for i,j in zip(se,sv):</span></span><br><span class="line"><span class="string">            print(i,j,end='')</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> vs,es</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasVertex</span><span class="params">(self,mark)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> mark <span class="keyword">in</span> self.vertexs</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'vertexs'</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.vertexs:</span><br><span class="line">            print(self.vertexs[i].__repr__())</span><br><span class="line">        print(<span class="string">'edges'</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.edges:</span><br><span class="line">            arc=self.edges[i]</span><br><span class="line">            print(str(arc.outArrow)+str(arc)+str(arc.inArrow))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calcEquation</span><span class="params">(self, equations, values, queries)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type equations: List[List[str]]</span></span><br><span class="line"><span class="string">        :type values: List[float]</span></span><br><span class="line"><span class="string">        :type queries: List[List[str]]</span></span><br><span class="line"><span class="string">        :rtype: List[float]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rst =[]</span><br><span class="line">        g= graph()</span><br><span class="line">        <span class="keyword">for</span> edge,wt <span class="keyword">in</span> zip(equations,values):</span><br><span class="line">            g.addEdge(edge[<span class="number">0</span>],edge[<span class="number">1</span>],wt)</span><br><span class="line">            g.addEdge(edge[<span class="number">1</span>],edge[<span class="number">0</span>],<span class="number">1</span>/wt)<span class="comment">###### to serach quickly but sacrifacing some space</span></span><br><span class="line">        g.display()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> queries:</span><br><span class="line">            <span class="keyword">if</span> i[<span class="number">0</span>]==i[<span class="number">1</span>]:</span><br><span class="line">                <span class="keyword">if</span> i[<span class="number">0</span>] <span class="keyword">in</span> g.vertexs:rst.append(<span class="number">1.0</span>)</span><br><span class="line">                <span class="keyword">else</span>:rst.append(<span class="number">-1.0</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            _,path = g.visitPath(i[<span class="number">0</span>],i[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> path==<span class="keyword">None</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> path:rst.append(<span class="number">-1.0</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mul = <span class="number">1</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> path:mul*=i.weight</span><br><span class="line">                rst.append(mul)</span><br><span class="line">            g.revisit()</span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-10-30"><a href="#2017-10-30" class="headerlink" title="2017-10-30"></a>2017-10-30</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Design-Twitter"></a></p>
<h3 id="Design-Twitter-—leetcode-355"><a href="#Design-Twitter-—leetcode-355" class="headerlink" title="Design-Twitter —leetcode 355"></a><a href="https://leetcode.com/problems/4sum-ii/discuss/" target="_blank" rel="noopener">Design-Twitter</a> —leetcode 355</h3><h4 id="题目-29"><a href="#题目-29" class="headerlink" title="题目"></a>题目</h4><p>Design a simplified version of Twitter where users can post tweets, follow/unfollow another user and is able to see the 10 most recent tweets in the user’s news feed. Your design should support the following methods:</p>
<ul>
<li>postTweet(userId, tweetId): Compose a new tweet.</li>
<li>follow(followerId, followeeId): Follower follows a followee.</li>
<li>unfollow(followerId, followeeId): Follower unfollows a followee.</li>
<li>getNewsFeed(userId): Retrieve the 10 most recent tweet ids in the user’s news feed. Each item in the news feed must be posted by users who the user followed or by the user herself. Tweets must be ordered from most recent to least * recent.<h4 id="思路-27"><a href="#思路-27" class="headerlink" title="思路"></a>思路</h4>我另外定义了一个user类，以及用得我前面写的<a href="#binaryHeap">优先队列</a>，写了很长，一点都不简洁。看了别人的代码（如下），真的很佩服。踩知道python有<code>heapq</code>模块，功能很强大，比如，heapify , merge等等<h4 id="代码-28"><a href="#代码-28" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Twitter</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.timer = itertools.count(step=<span class="number">-1</span>)</span><br><span class="line">        self.tweets = collections.defaultdict(collections.deque)</span><br><span class="line">        self.followees = collections.defaultdict(set)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">postTweet</span><span class="params">(self, userId, tweetId)</span>:</span></span><br><span class="line">        self.tweets[userId].appendleft((next(self.timer), tweetId))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNewsFeed</span><span class="params">(self, userId)</span>:</span></span><br><span class="line">        tweets = heapq.merge(*(self.tweets[u] <span class="keyword">for</span> u <span class="keyword">in</span> self.followees[userId] | &#123;userId&#125;))</span><br><span class="line">        <span class="keyword">return</span> [t <span class="keyword">for</span> _, t <span class="keyword">in</span> itertools.islice(tweets, <span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">follow</span><span class="params">(self, followerId, followeeId)</span>:</span></span><br><span class="line">        self.followees[followerId].add(followeeId)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">unfollow</span><span class="params">(self, followerId, followeeId)</span>:</span></span><br><span class="line">        self.followees[followerId].discard(followeeId)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2017-10-25"><a href="#2017-10-25" class="headerlink" title="2017-10-25"></a>2017-10-25</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="4Sum-II"></a></p>
<h3 id="4Sum-II-—leetcode-454"><a href="#4Sum-II-—leetcode-454" class="headerlink" title="4Sum-II —leetcode 454"></a><a href="https://leetcode.com/problems/4sum-ii/discuss/" target="_blank" rel="noopener">4Sum-II</a> —leetcode 454</h3><h4 id="题目-30"><a href="#题目-30" class="headerlink" title="题目"></a>题目</h4><p>我想的使用counter再sort后，用4个for， 再加一点判断，可是本质上还是O(N<sup>4</sup>)，对于随机数来说，都是很差的算法。下面的代码是别人写的O(N<sup>2</sup>)，就两行,啊，我好菜呀T_T</p>
<h4 id="思路-28"><a href="#思路-28" class="headerlink" title="思路"></a>思路</h4><h4 id="代码-29"><a href="#代码-29" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fourSumCount</span><span class="params">(self, A, B, C, D)</span>:</span></span><br><span class="line">    AB = collections.Counter(a+b <span class="keyword">for</span> a <span class="keyword">in</span> A <span class="keyword">for</span> b <span class="keyword">in</span> B)</span><br><span class="line">    <span class="keyword">return</span> sum(AB[-c-d] <span class="keyword">for</span> c <span class="keyword">in</span> C <span class="keyword">for</span> d <span class="keyword">in</span> D)</span><br></pre></td></tr></table></figure>
<h2 id="2017-10-23"><a href="#2017-10-23" class="headerlink" title="2017-10-23"></a>2017-10-23</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Trie-Prefix-Tree"></a></p>
<h3 id="Trie-Prefix-Tree-—leetcode-208"><a href="#Trie-Prefix-Tree-—leetcode-208" class="headerlink" title="Trie( Prefix Tree) —leetcode 208"></a><a href="https://leetcode.com/problems/implement-trie-prefix-tree/description/" target="_blank" rel="noopener">Trie( Prefix Tree)</a> —leetcode 208</h3><h4 id="题目-31"><a href="#题目-31" class="headerlink" title="题目"></a>题目</h4><p>Implement a <a href="https://baike.baidu.com/item/Trie/140945?fr=aladdin" target="_blank" rel="noopener">trie</a> with insert, search, and startsWith methods</p>
<h4 id="思路-29"><a href="#思路-29" class="headerlink" title="思路"></a>思路</h4><p>trie还是很有趣的，最开始我没弄清楚，以为a-&gt;b  再插入abc是  </p>
<blockquote>
<p>b<br>&nbsp;/<br>a-&gt;b-&gt;c</p>
</blockquote>
<p>正确的应该在每个节点设一个ISKEY  来判断当前前缀是否是存储的一个str。<br>最开始我用的列表来存children，也不好， 用字典来存，函数实现就更简洁，而且访问效率高。<br>代码里后面一些是调试用的，在leetcode上提交应去掉</p>
<h4 id="代码-30"><a href="#代码-30" class="headerlink" title="代码"></a>代码</h4><p><a id="binaryHeap"></a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,val = None)</span>:</span></span><br><span class="line">        self.val = val</span><br><span class="line">        self.isKey = <span class="keyword">False</span></span><br><span class="line">        self.children = &#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,i)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.children[i]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> iter(self.children.keys())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setitem__</span><span class="params">(self,i,x)</span>:</span></span><br><span class="line">        self.children[i] = x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bool__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.children!=&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'val: '</span>+str(self.val)+<span class="string">'\nchildren: '</span>+<span class="string">' '</span>.join(self.children.keys())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> str(self)</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.root=node(<span class="string">''</span>)</span><br><span class="line">        self.dic =&#123;<span class="string">'insert'</span>:self.insert,<span class="string">'startsWith'</span>:self.startsWith,<span class="string">'search'</span>:self.search&#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, word)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Inserts a word into the trie.</span></span><br><span class="line"><span class="string">        :type word: str</span></span><br><span class="line"><span class="string">        :rtype: void</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> word:<span class="keyword">return</span> </span><br><span class="line">        nd = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> word:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> nd:</span><br><span class="line">                nd = nd[i]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                newNode= node(i)</span><br><span class="line">                nd[i] = newNode</span><br><span class="line">                nd = newNode</span><br><span class="line">        <span class="keyword">else</span>:nd.isKey = <span class="keyword">True</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, word)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns if the word is in the trie.</span></span><br><span class="line"><span class="string">        :type word: str</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        nd = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> word:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> nd:</span><br><span class="line">                nd = nd[i]</span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">else</span>:<span class="keyword">return</span> nd.isKey</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">startsWith</span><span class="params">(self, prefix)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns if there is any word in the trie that starts with the given prefix.</span></span><br><span class="line"><span class="string">        :type prefix: str</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        nd = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> prefix:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span>  nd:</span><br><span class="line">                nd= nd[i]</span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'preOrderTraverse  data of the Trie'</span>)</span><br><span class="line">        self.preOrder(self.root,<span class="string">''</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrder</span><span class="params">(self,root,s)</span>:</span></span><br><span class="line">        s=s+root.val</span><br><span class="line">        <span class="keyword">if</span>  root.isKey:</span><br><span class="line">            print(s)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> root:</span><br><span class="line">            self.preOrder(root[i],s)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    t = Trie()</span><br><span class="line">    rsts = [<span class="keyword">None</span>,<span class="keyword">None</span>,<span class="keyword">None</span>,<span class="keyword">None</span>,<span class="keyword">None</span>,<span class="keyword">None</span>,<span class="keyword">False</span>,<span class="keyword">True</span>,<span class="keyword">False</span>,<span class="keyword">False</span>,<span class="keyword">False</span>,<span class="keyword">False</span>,<span class="keyword">False</span>,<span class="keyword">True</span>,<span class="keyword">True</span>,<span class="keyword">False</span>,<span class="keyword">True</span>,<span class="keyword">True</span>,<span class="keyword">False</span>,<span class="keyword">False</span>,<span class="keyword">False</span>,<span class="keyword">True</span>,<span class="keyword">True</span>,<span class="keyword">True</span>]</span><br><span class="line">    op = [<span class="string">"insert"</span>,<span class="string">"insert"</span>,<span class="string">"insert"</span>,<span class="string">"insert"</span>,<span class="string">"insert"</span>,<span class="string">"insert"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"search"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>,<span class="string">"startsWith"</span>]</span><br><span class="line">    data = [[<span class="string">"app"</span>],[<span class="string">"apple"</span>],[<span class="string">"beer"</span>],[<span class="string">"add"</span>],[<span class="string">"jam"</span>],[<span class="string">"rental"</span>],[<span class="string">"apps"</span>],[<span class="string">"app"</span>],[<span class="string">"ad"</span>],[<span class="string">"applepie"</span>],[<span class="string">"rest"</span>],[<span class="string">"jan"</span>],[<span class="string">"rent"</span>],[<span class="string">"beer"</span>],[<span class="string">"jam"</span>],[<span class="string">"apps"</span>],[<span class="string">"app"</span>],[<span class="string">"ad"</span>],[<span class="string">"applepie"</span>],[<span class="string">"rest"</span>],[<span class="string">"jan"</span>],[<span class="string">"rent"</span>],[<span class="string">"beer"</span>],[<span class="string">"jam"</span>]]</span><br><span class="line">    <span class="keyword">for</span> i,datum,rst <span class="keyword">in</span> zip(op,data,rsts):</span><br><span class="line">        <span class="keyword">if</span> t.dic[i](datum[<span class="number">0</span>]) != rst:print(i,datum[<span class="number">0</span>],rst)</span><br><span class="line">    t.display()</span><br></pre></td></tr></table></figure></p>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee"></a></p>
<h3 id="Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee-—leetcode-714"><a href="#Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee-—leetcode-714" class="headerlink" title="Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee —leetcode 714"></a><a href="https://leetcode.com/contest/leetcode-weekly-contest-55/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/" target="_blank" rel="noopener">Best-Time-to-Buy-and-Sell-Stock-with-Transaction-Fee</a> —leetcode 714</h3><h4 id="题目-32"><a href="#题目-32" class="headerlink" title="题目"></a>题目</h4><p>Your are given an array of integers prices, for which the i-th element is the price of a given stock on day i; and a non-negative integer fee representing a transaction fee.</p>
<p>You may complete as many transactions as you like, but you need to pay the transaction fee for each transaction. You may not buy more than 1 share of a stock at a time (ie. you must sell the stock share before you buy again.)</p>
<p>Return the maximum profit you can make.</p>
<p><strong>Example 1</strong>:<br>Input: prices = [1, 3, 2, 8, 4, 9], fee = 2<br>Output: 8<br>Explanation: The maximum profit can be achieved by:</p>
<ul>
<li>Buying at prices[0] = 1</li>
<li>Selling at prices[3] = 8</li>
<li>Buying at prices[4] = 4</li>
<li>Selling at prices[5] = 9<br>The total profit is ((8 - 1) - 2) + ((9 - 4) - 2) = 8.<h4 id="思路-30"><a href="#思路-30" class="headerlink" title="思路"></a>思路</h4>动态规划，弄清楚，f(n),与f(n+1)的关系，确定转移方程，以及当再次加入一组时是否可以多于两次的fee，代码29，30行就是处理这点<h4 id="代码-31"><a href="#代码-31" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices, fee)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type prices: List[int]</span></span><br><span class="line"><span class="string">        :type fee: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(prices)</span><br><span class="line">        <span class="keyword">if</span> n&lt;<span class="number">2</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        li = []</span><br><span class="line">        <span class="keyword">if</span> prices[<span class="number">1</span>]-prices[<span class="number">0</span>]&gt;fee:</span><br><span class="line">            li.append([<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">            idx = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> (prices[<span class="number">0</span>]&gt;prices[<span class="number">1</span>]):idx = <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> li:</span><br><span class="line">                <span class="keyword">if</span>  prices[i]-prices[idx]&gt;fee:li.append([idx,i])</span><br><span class="line">                <span class="keyword">elif</span> prices[i]&lt;prices[idx]:idx = i</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                last = li[<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">if</span> last[<span class="number">1</span>] == i<span class="number">-1</span> :</span><br><span class="line">                    <span class="keyword">if</span> prices[i]&gt;prices[last[<span class="number">1</span>]]: </span><br><span class="line">                        last[<span class="number">1</span>] = i</span><br><span class="line">                    <span class="keyword">else</span>:idx = i</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> prices[i]&gt;prices[idx]+fee:</span><br><span class="line">                        <span class="keyword">if</span> prices[last[<span class="number">1</span>]]-prices[idx]&lt;fee:</span><br><span class="line">                                last[<span class="number">1</span>] = i</span><br><span class="line">                        <span class="keyword">else</span>:li.append([idx,i])</span><br><span class="line">                    <span class="keyword">elif</span> prices[i]&gt;prices[last[<span class="number">1</span>]]: last[<span class="number">1</span>]=i</span><br><span class="line">                    <span class="keyword">elif</span> prices[i]&lt;prices[idx]:idx=i</span><br><span class="line">        s=[prices[i[<span class="number">1</span>]]-prices[i[<span class="number">0</span>]]-fee <span class="keyword">for</span> i <span class="keyword">in</span> li]</span><br><span class="line">        <span class="keyword">return</span> sum(s)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2017-10-19"><a href="#2017-10-19" class="headerlink" title="2017-10-19"></a>2017-10-19</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Valid-Triangle-Number"></a></p>
<h3 id="Valid-Triangle-Number-—leetcode-611"><a href="#Valid-Triangle-Number-—leetcode-611" class="headerlink" title="Valid-Triangle-Number —leetcode 611"></a><a href="https://leetcode.com/problems/valid-triangle-number/description/" target="_blank" rel="noopener">Valid-Triangle-Number</a> —leetcode 611</h3><h4 id="题目-33"><a href="#题目-33" class="headerlink" title="题目"></a>题目</h4><p>Given an array consists of non-negative integers, your task is to count the number of triplets chosen from the array that can make triangles if we take them as side lengths of a triangle.</p>
<h4 id="思路-31"><a href="#思路-31" class="headerlink" title="思路"></a>思路</h4><p>注意只要三角形的最大边小于另两边之和，所以排序后，进行搜索，避免不必要的比较</p>
<h4 id="代码-32"><a href="#代码-32" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">triangleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        ct = <span class="number">0</span></span><br><span class="line">        nums.sort()</span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">            lo , hi = <span class="number">0</span>,i<span class="number">-1</span></span><br><span class="line">            <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">                <span class="keyword">if</span> nums[lo]+nums[hi]&gt;nums[i]:</span><br><span class="line">                    ct+=hi-lo</span><br><span class="line">                    hi-=<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:lo+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ct</span><br></pre></td></tr></table></figure>
<h2 id="2017-10-16"><a href="#2017-10-16" class="headerlink" title="2017-10-16"></a>2017-10-16</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Path-Sum-III"></a></p>
<h3 id="Path-Sum-III-—leetcode-437"><a href="#Path-Sum-III-—leetcode-437" class="headerlink" title="Path-Sum-III —leetcode 437"></a><a href="https://leetcode.com/problems/path-sum-iii/description/" target="_blank" rel="noopener">Path-Sum-III</a> —leetcode 437</h3><h4 id="题目-34"><a href="#题目-34" class="headerlink" title="题目"></a>题目</h4><p>You are given a binary tree in which each node contains an integer value.</p>
<p>Find the number of paths that sum to a given value.</p>
<p>The path does not need to start or end at the root or a leaf, but it must go downwards (traveling only from parent nodes to child nodes).</p>
<h4 id="思路-32"><a href="#思路-32" class="headerlink" title="思路"></a>思路</h4><p>可以自顶向下传递，为了避免反复求和，可传递路径的前缀和，而且瑶注意不能重复求相同的路径，所以可以在每个节点处，前缀和减去前面所有的节点的前缀和，应该以0开始</p>
<h4 id="代码-33"><a href="#代码-33" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">## class TreeNode(object):</span></span><br><span class="line"><span class="comment">## def __init__(self, x):</span></span><br><span class="line"><span class="comment">## self.val = x</span></span><br><span class="line"><span class="comment">## self.left = None</span></span><br><span class="line"><span class="comment">## self.right = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pathSum</span><span class="params">(self, root, sum)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type sum: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.sum = sum</span><br><span class="line">        self.total  =<span class="number">0</span></span><br><span class="line">        self.preOrder(root,[<span class="number">0</span>],<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> self.total</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrder</span><span class="params">(self,root,path,n)</span>:</span></span><br><span class="line">        tmp =root.val+ path[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> path:</span><br><span class="line">            <span class="keyword">if</span> tmp -i ==self.sum:</span><br><span class="line">                self.total+=<span class="number">1</span></span><br><span class="line">        path.append(tmp)</span><br><span class="line">        <span class="keyword">if</span> root.left:self.preOrder(root.left,list(path),n)</span><br><span class="line">        <span class="keyword">if</span> root.right:self.preOrder(root.right,list(path),n)</span><br></pre></td></tr></table></figure>
<h2 id="2017-10-14"><a href="#2017-10-14" class="headerlink" title="2017-10-14"></a>2017-10-14</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Top-K-Frequent-Words"></a></p>
<h3 id="Top-K-Frequent-Words-—leetcode-692"><a href="#Top-K-Frequent-Words-—leetcode-692" class="headerlink" title="Top-K-Frequent-Words —leetcode 692"></a><a href="https://leetcode.com/problems/top-k-frequent-words/description/" target="_blank" rel="noopener">Top-K-Frequent-Words</a> —leetcode 692</h3><h4 id="题目-35"><a href="#题目-35" class="headerlink" title="题目"></a>题目</h4><p>Given a non-empty list of words, return the k most frequent elements.</p>
<p>Your answer should be sorted by frequency from highest to lowest. If two words have the same frequency, then the word with the lower alphabetical order comes first.</p>
<h4 id="思路-33"><a href="#思路-33" class="headerlink" title="思路"></a>思路</h4><p>用map就很简单。但这道题是考堆排序的，所以我写了个二叉堆来排序。</p>
<h4 id="代码-34"><a href="#代码-34" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topKFrequent</span><span class="params">(self, words, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type words: List[str]</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: List[str]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        hp = binaryHeap(sortByFrequency = <span class="keyword">True</span>,reverse=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> words:</span><br><span class="line">            hp.insert(i)</span><br><span class="line">        rst = []</span><br><span class="line">        n = len(hp)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> hp.data:</span><br><span class="line">           print(i.val,i.freq)</span><br><span class="line">        mp = &#123;&#125;</span><br><span class="line">        <span class="keyword">while</span> hp:</span><br><span class="line">            top = hp.deleteTop()</span><br><span class="line">            <span class="keyword">if</span> top.freq <span class="keyword">in</span> mp:</span><br><span class="line">                mp[top.freq].append(top.val)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mp[top.freq] = [top.val]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> mp:</span><br><span class="line">            mp[i].sort()</span><br><span class="line">        key = sorted(mp.keys(),reverse = <span class="keyword">True</span>)</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> key:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> mp[i]:</span><br><span class="line">                rst.append(j)</span><br><span class="line">                count+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> count == k:<span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<p>二叉堆的实现，支持最大，最小，以及关键字排序或者频率排序<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable           </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,val,freq=<span class="number">1</span>)</span>:</span></span><br><span class="line">        self.val=val</span><br><span class="line">        self.freq = freq</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self,a)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.val == a.val </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self,a)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.val&lt;a.val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__le__</span><span class="params">(self,a)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.val&lt;=a.val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__gt__</span><span class="params">(self,a)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.val&gt;a.val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__ge__</span><span class="params">(self,a)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.val&gt;=a.val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__ne__</span><span class="params">(self,a)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> self == a</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">binaryHeap</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,s=[],sortByFrequency = False,reverse=False)</span>:</span></span><br><span class="line">        self.sortByFrequency=sortByFrequency</span><br><span class="line">        self.reverse = reverse</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(s,Iterable):s = [s]</span><br><span class="line">        self.data = [node(<span class="number">0</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            self.insert(i)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bool__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_cmp</span><span class="params">(self,a,b)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.sortByFrequency:</span><br><span class="line">            <span class="keyword">if</span> self.reverse:<span class="keyword">return</span> a.freq&gt;b.freq</span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> a.freq&lt;b.freq</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> self.reverse:<span class="keyword">return</span> a&gt;b</span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> a&lt;b</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self,k)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span>  isinstance(k,node): k = node(k)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(self.data[<span class="number">0</span>].val):</span><br><span class="line">            i = self.data[j+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> i==k:</span><br><span class="line">                i.freq+=<span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> self.sortByFrequency:</span><br><span class="line">                    idx = self.percolateDown(j+<span class="number">1</span>)</span><br><span class="line">                    self.percolateUp(idx)</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">        self.data.append(k)</span><br><span class="line">        self.data[<span class="number">0</span>].val += <span class="number">1</span></span><br><span class="line">        self.percolateUp()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">percolateUp</span><span class="params">(self,n=None)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n ==<span class="keyword">None</span>:n=self.data[<span class="number">0</span>].val</span><br><span class="line">        tmp = self.data[n]</span><br><span class="line">        <span class="keyword">while</span> n!=<span class="number">1</span> <span class="keyword">and</span> self._cmp(tmp,self.data[n//<span class="number">2</span>]):</span><br><span class="line">            self.data[n] = self.data[n//<span class="number">2</span>]</span><br><span class="line">            n = n//<span class="number">2</span></span><br><span class="line">        self.data[n] = tmp</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteTop</span><span class="params">(self)</span>:</span></span><br><span class="line">        tmp = self.data[<span class="number">1</span>]</span><br><span class="line">        i = self.percolateDown(<span class="number">1</span>)</span><br><span class="line">        self.data[i] = self.data[<span class="number">-1</span>]</span><br><span class="line">        self.data[<span class="number">0</span>].val-= <span class="number">1</span></span><br><span class="line">        <span class="keyword">del</span> self.data[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">return</span> tmp</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">percolateDown</span><span class="params">(self,i)</span>:</span></span><br><span class="line">        tmp = self.data[i]</span><br><span class="line">        <span class="keyword">while</span> self.data[<span class="number">0</span>].val&gt;=<span class="number">2</span>*i+<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> self._cmp(self.data[i*<span class="number">2</span>],self.data[<span class="number">2</span>*i+<span class="number">1</span>]):</span><br><span class="line">                    self.data[i] = self.data[<span class="number">2</span>*i]</span><br><span class="line">                    i = <span class="number">2</span>*i</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self.data[i] = self.data[<span class="number">2</span>*i+<span class="number">1</span>]</span><br><span class="line">                    i = <span class="number">2</span>*i+<span class="number">1</span></span><br><span class="line">        self.data[i] = tmp</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.data[<span class="number">0</span>].val</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Nth</span><span class="params">(self,n=<span class="number">1</span>)</span>:</span></span><br><span class="line">        tmp = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            tmp.append(self.deleteTop())</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> tmp:</span><br><span class="line">            self.insert(i)</span><br><span class="line">        <span class="keyword">return</span> tmp[<span class="number">-1</span>]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">display</span><span class="params">(self)</span>:</span></span><br><span class="line">        val =self.data[<span class="number">0</span>].val+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.sortByFrequency:</span><br><span class="line">            info=<span class="string">'heapSort by Frequency:'</span></span><br><span class="line">        <span class="keyword">else</span>:info = <span class="string">'heapSort by Value:'</span></span><br><span class="line">        <span class="keyword">if</span> self.reverse:</span><br><span class="line">            info +=<span class="string">' From big to small'</span></span><br><span class="line">        <span class="keyword">else</span>:info +=<span class="string">' From small to big'</span></span><br><span class="line">        print(<span class="string">'*'</span>*<span class="number">15</span>)</span><br><span class="line">        print(info)</span><br><span class="line">        print(<span class="string">'total items:%d\nval\tfreq'</span>%(val<span class="number">-1</span>))</span><br><span class="line">        fmt = <span class="string">'&#123;&#125;\t&#123;&#125;'</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,val):</span><br><span class="line">            print(fmt.format(self.data[i].val,self.data[i].freq))</span><br><span class="line">        print(<span class="string">'*'</span>*<span class="number">15</span>)</span><br></pre></td></tr></table></figure></p>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="2-Keys-Keyboard"></a></p>
<h3 id="2-Keys-Keyboard-—leetcode-692"><a href="#2-Keys-Keyboard-—leetcode-692" class="headerlink" title="2-Keys-Keyboard —leetcode 692"></a><a href="https://leetcode.com/problems/2-keys-keyboard/description/" target="_blank" rel="noopener">2-Keys-Keyboard</a> —leetcode 692</h3><h4 id="题目-36"><a href="#题目-36" class="headerlink" title="题目"></a>题目</h4><p>Initially on a notepad only one character ‘A’ is present. You can perform two operations on this notepad for each step:</p>
<p><code>Copy All</code>: You can copy all the characters present on the notepad (partial copy is not allowed).<br><code>Paste</code>: You can paste the characters which are copied last time.<br>Given a number n. You have to get exactly n ‘A’ on the notepad by performing the minimum number of steps permitted. Output the minimum number of steps to get n ‘A’.<br>Note:The n will be in the range [1, 1000]</p>
<h4 id="思路-34"><a href="#思路-34" class="headerlink" title="思路"></a>思路</h4><p>分析可知，可以复制一个，然后粘贴n个，胆这样次数太多。要想减少次数，就要复制个数较多（注意复制个数只能越来越多），但复制多了可能会超过。可以发现，若需2n个，可复制n个，需3n个，可复制nge，粘贴2次。而且越早复制越好。这其实就是将n质因数分解。代码7—15行求的li，是用素数筛求小于一个数的所有素数，后面只需将n的所有非1因数加起来即可</p>
<h4 id="代码-35"><a href="#代码-35" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minSteps</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        li = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">1001</span>)]</span><br><span class="line">        i = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span>  i &lt;len(li):</span><br><span class="line">            prod =<span class="number">2</span> * li[i] </span><br><span class="line">            <span class="keyword">while</span> prod &lt;=li[<span class="number">-1</span>]:</span><br><span class="line">                <span class="keyword">if</span> prod i <span class="string">''''''</span>n li:</span><br><span class="line">                    li.remove(prod)</span><br><span class="line">                prod+=li[i]</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        rst = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">            <span class="keyword">if</span> i &gt; n:<span class="keyword">break</span></span><br><span class="line">            ct = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> n%i == <span class="number">0</span>:</span><br><span class="line">                n/=i</span><br><span class="line">                ct +=<span class="number">1</span></span><br><span class="line">            rst +=ct*i</span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-10-12"><a href="#2017-10-12" class="headerlink" title="2017-10-12"></a>2017-10-12</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Unique-Binary-Search-Trees"></a></p>
<h3 id="Unique-Binary-Search-Trees-—leetcode-96"><a href="#Unique-Binary-Search-Trees-—leetcode-96" class="headerlink" title="Unique-Binary-Search-Trees —leetcode 96"></a><a href="https://leetcode.com/problems/unique-binary-search-trees/description/" target="_blank" rel="noopener">Unique-Binary-Search-Trees</a> —leetcode 96</h3><h4 id="题目-37"><a href="#题目-37" class="headerlink" title="题目"></a>题目</h4><p>Given n, how many structurally unique BST’s (binary search trees) that store values 1…n?</p>
<h4 id="思路-35"><a href="#思路-35" class="headerlink" title="思路"></a>思路</h4><p>注意到给定一棵树，只有一种对应的BST（1，2，…,n)。所以这道题就使求N个节点能形成多少种不同的树，就很简单了，直接用Catalan数C(<sup>n</sup><sub>2n</sub>)/(1+n)，不过在计算中我优化了一下，而且注意最后结果用了round，不能直接用int（），这会截断小数的</p>
<h4 id="代码-36"><a href="#代码-36" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numTrees</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rst = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n+<span class="number">1</span>):</span><br><span class="line">            rst *=(n+i)*<span class="number">1.0</span>/i</span><br><span class="line">        <span class="keyword">return</span> int(round(rst))</span><br></pre></td></tr></table></figure>
<p>下面是可以生成bst的代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateTrees</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: List[TreeNode]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> n&lt;<span class="number">1</span>:<span class="keyword">return</span> []</span><br><span class="line">        self.ts=[TreeNode(<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n+<span class="number">1</span>):</span><br><span class="line">            self.add(i)</span><br><span class="line">        <span class="keyword">return</span>  self.ts</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self,i)</span>:</span></span><br><span class="line">        self.cur=[]</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> self.ts:</span><br><span class="line">            nd = TreeNode(i)</span><br><span class="line">            nd.left = self.copyT(j)</span><br><span class="line">            self.cur.append(nd)</span><br><span class="line">            self.add_util(j,j,i)</span><br><span class="line">        self.ts=self.cur</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_util</span><span class="params">(self,origin,nd,i)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nd:<span class="keyword">return</span> </span><br><span class="line">        new = TreeNode(i)</span><br><span class="line">        new.left = nd.right</span><br><span class="line">        nd.right=new</span><br><span class="line">        self.cur.append(self.copyT(origin))</span><br><span class="line"><span class="comment">#print(self.cur)        </span></span><br><span class="line">        nd.right = new.left</span><br><span class="line">        self.add_util(origin,nd.right,i)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyT</span><span class="params">(self,root,val=<span class="number">1</span>&lt;&lt;<span class="number">30</span>)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root :<span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">        nd=TreeNode(root.val)</span><br><span class="line">        <span class="keyword">if</span> root.val&lt;val:</span><br><span class="line">            nd.left = self.copyT(root.left)</span><br><span class="line">            nd.right = self.copyT(root.right)</span><br><span class="line">        <span class="keyword">return</span> nd</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Path-Sum-II"></a></p>
<h3 id="Path-Sum-II-—leetcode-113"><a href="#Path-Sum-II-—leetcode-113" class="headerlink" title="Path-Sum-II —leetcode 113"></a><a href="https://leetcode.com/problems/path-sum-ii/description/" target="_blank" rel="noopener">Path-Sum-II</a> —leetcode 113</h3><h4 id="题目-38"><a href="#题目-38" class="headerlink" title="题目"></a>题目</h4><p>Given a binary tree and a sum, find all root-to-leaf paths where each path’s sum equals the given sum.</p>
<p>For example:<br>Given the below binary tree and sum = 22,<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">              <span class="number">5</span></span><br><span class="line">             / \</span><br><span class="line">            <span class="number">4</span>   <span class="number">8</span></span><br><span class="line">           /   / \</span><br><span class="line">          <span class="number">11</span>  <span class="number">13</span>  <span class="number">4</span></span><br><span class="line">         /  \    / \</span><br><span class="line">        <span class="number">7</span>    <span class="number">2</span>  <span class="number">5</span>   <span class="number">1</span></span><br><span class="line">return</span><br><span class="line">[</span><br><span class="line">   [<span class="number">5</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">2</span>],</span><br><span class="line">   [<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h4 id="思路-36"><a href="#思路-36" class="headerlink" title="思路"></a>思路</h4><p>分四种情况讨论即可</p>
<h4 id="代码-37"><a href="#代码-37" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">## class TreeNode(object):</span></span><br><span class="line"><span class="comment">## def __init__(self, x):</span></span><br><span class="line"><span class="comment">## self.val = x</span></span><br><span class="line"><span class="comment">## self.left = None</span></span><br><span class="line"><span class="comment">## self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pathSum</span><span class="params">(self, root, sm)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type sum: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:<span class="keyword">return</span> []</span><br><span class="line">        paths = self.getPath(root)</span><br><span class="line">        <span class="keyword">print</span> paths</span><br><span class="line">        <span class="keyword">return</span> [i <span class="keyword">for</span> i <span class="keyword">in</span> paths <span class="keyword">if</span> sum(i) == sm]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPath</span><span class="params">(self,root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.right:</span><br><span class="line">            <span class="keyword">return</span> [[root.val]]</span><br><span class="line">        li = []</span><br><span class="line">        <span class="keyword">if</span> root.left :</span><br><span class="line">            li+=self.getPath(root.left)</span><br><span class="line">        <span class="keyword">if</span> root.right :</span><br><span class="line">            li+=self.getPath(root.right)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> li:</span><br><span class="line">            i.insert(<span class="number">0</span>,root.val)</span><br><span class="line">        <span class="keyword">return</span> li</span><br></pre></td></tr></table></figure>
<h2 id="2017-10-8"><a href="#2017-10-8" class="headerlink" title="2017-10-8"></a>2017-10-8</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Symmetric-Tree"></a></p>
<h3 id="Symmetric-Tree-—leetcode-101"><a href="#Symmetric-Tree-—leetcode-101" class="headerlink" title="Symmetric-Tree —leetcode 101"></a><a href="https://leetcode.com/problems/symmetric-tree/description/" target="_blank" rel="noopener">Symmetric-Tree</a> —leetcode 101</h3><h4 id="题目-39"><a href="#题目-39" class="headerlink" title="题目"></a>题目</h4><p>Given a binary tree, check whether it is a mirror of itself (ie, symmetric around its center).</p>
<h4 id="思路-37"><a href="#思路-37" class="headerlink" title="思路"></a>思路</h4><p>挺简单的，不过对称挺美的</p>
<h4 id="代码-38"><a href="#代码-38" class="headerlink" title="代码"></a>代码</h4><p><code>recursive solution</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">## class TreeNode(object):</span></span><br><span class="line"><span class="comment">## def __init__(self, x):</span></span><br><span class="line"><span class="comment">## self.val = x</span></span><br><span class="line"><span class="comment">## self.left = None</span></span><br><span class="line"><span class="comment">## self.right = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetric</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span>  self.judge(root.left,root.right)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">judge</span><span class="params">(self,p,q)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> p <span class="keyword">and</span> <span class="keyword">not</span> q:<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> p  <span class="keyword">and</span> q) <span class="keyword">or</span> (p  <span class="keyword">and</span> <span class="keyword">not</span> q):<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> p.val == q.val <span class="keyword">and</span> self.judge(p.left,q.right) <span class="keyword">and</span> self.judge(p.right,q.left)</span><br></pre></td></tr></table></figure>
<p>漂亮的<code>iterative solution</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetric</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:<span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        q = deque([root.left,root.right])</span><br><span class="line">        <span class="keyword">while</span> len(q)&gt;<span class="number">1</span>:</span><br><span class="line">            left = q.popleft()</span><br><span class="line">            right = q.popleft()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> left <span class="keyword">and</span> <span class="keyword">not</span> right:<span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> (left == <span class="keyword">None</span>) ^ (right ==<span class="keyword">None</span>) <span class="keyword">or</span>  left.val != right.val:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">            q.extend([left.left,right.right,left.right,right.left])</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Longest-Univalue-Path"></a></p>
<h3 id="Longest-Univalue-Path-—leetcode-687"><a href="#Longest-Univalue-Path-—leetcode-687" class="headerlink" title="Longest-Univalue-Path —leetcode 687"></a><a href="https://leetcode.com/problems/longest-univalue-path/description/" target="_blank" rel="noopener">Longest-Univalue-Path</a> —leetcode 687</h3><h4 id="题目-40"><a href="#题目-40" class="headerlink" title="题目"></a>题目</h4><p>Given a binary tree, find the length of the longest path where each node in the path has the same value. This path may or may not pass through the root.</p>
<p>Note: The length of path between two nodes is represented by the number of edges between them.<br><code>example</code>:output 3<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">4</span></span><br><span class="line">   / \</span><br><span class="line">  <span class="number">4</span>   <span class="number">4</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">4</span>   <span class="number">4</span>   <span class="number">5</span></span><br></pre></td></tr></table></figure></p>
<h4 id="思路-38"><a href="#思路-38" class="headerlink" title="思路"></a>思路</h4><p>将左右汇聚到根节点再进行比较即可，为了能使代码更简洁，我把None的值赋为root.val-1.注意是求路径，而不是边数最多的子树，要求后者，只需将最后一行代码改为<code>return r+l+2</code></p>
<h4 id="代码-39"><a href="#代码-39" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Definition for a binary tree node.</span></span><br><span class="line"><span class="comment">## class TreeNode(object):</span></span><br><span class="line"><span class="comment">## def __init__(self, x):</span></span><br><span class="line"><span class="comment">## self.val = x</span></span><br><span class="line"><span class="comment">## self.left = None</span></span><br><span class="line"><span class="comment">## self.right = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestUnivaluePath</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        self.mx = <span class="number">0</span></span><br><span class="line">        self.find(root)</span><br><span class="line">        <span class="keyword">return</span> self.mx</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(self,root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root.left <span class="keyword">and</span> <span class="keyword">not</span> root.right:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> root.left:</span><br><span class="line">            lval = root.left.val</span><br><span class="line">            l = self.find(root.left) </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            lval = root.val<span class="number">-1</span></span><br><span class="line">            l = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> root.right:</span><br><span class="line">            r = self.find(root.right)</span><br><span class="line">            rval = root.right.val            </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            rval = root.val<span class="number">-1</span></span><br><span class="line">            r = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> root.val != lval <span class="keyword">and</span> root.val!=rval:</span><br><span class="line">            self.mx = max(self.mx,l,r)</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'00'</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span>  root.val == lval <span class="keyword">and</span> root.val!=rval:</span><br><span class="line">            self.mx = max(self.mx,l+<span class="number">1</span>,r)</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'10'</span></span><br><span class="line">            <span class="keyword">return</span> l+<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span>  root.val != lval <span class="keyword">and</span> root.val==rval:</span><br><span class="line">            self.mx = max(self.mx,l,<span class="number">1</span>+r)</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'01'</span></span><br><span class="line">            <span class="keyword">return</span> r+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'11'</span></span><br><span class="line">            self.mx = max(self.mx,l+<span class="number">2</span>+r)</span><br><span class="line">            <span class="keyword">return</span> max(l,r)+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="2017-9-25"><a href="#2017-9-25" class="headerlink" title="2017-9-25"></a>2017-9-25</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Remove-Invalid-Parentheses"></a></p>
<h3 id="Remove-Invalid-Parentheses-—leetcode-301"><a href="#Remove-Invalid-Parentheses-—leetcode-301" class="headerlink" title="Remove-Invalid-Parentheses —leetcode 301"></a><a href="https://leetcode.com/problems/remove-invalid-parentheses/description/" target="_blank" rel="noopener">Remove-Invalid-Parentheses</a> —leetcode 301</h3><h4 id="题目-41"><a href="#题目-41" class="headerlink" title="题目"></a>题目</h4><p>Remove the minimum number of invalid parentheses in order to make the input string valid. Return all possible results.</p>
<p>Note: The input string may contain letters other than the parentheses ( and ).</p>
<pre><code>Examples:
&quot;()())()&quot; -&gt; [&quot;()()()&quot;, &quot;(())()&quot;]
&quot;(a)())()&quot; -&gt; [&quot;(a)()()&quot;, &quot;(a())()&quot;]
&quot;)(&quot; -&gt; [&quot;&quot;]
</code></pre><h4 id="思路-39"><a href="#思路-39" class="headerlink" title="思路"></a>思路</h4><p>代码是别人的，我写得太矬。我写了几十行代码，人家只用了几行<span class="github-emoji" title="sob" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f62d.png?v8">&#x1f62d;</span>。这道题可以用BFSFS，注意到对于一个坏括号列，要变成好括号列，要删去的括号种类（即<code>(</code>或者<code>)</code>）和数目是固定的，所以可以逐个搜索删去1，2，3…个后，是否有好括号列。不过这样不足的一点就是太慢了，搜索得太多了。</p>
<h4 id="代码-40"><a href="#代码-40" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeInvalidParentheses</span><span class="params">(self, s)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isvalid</span><span class="params">(s)</span>:</span></span><br><span class="line">        ctr = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">'('</span>:</span><br><span class="line">                ctr += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">')'</span>:</span><br><span class="line">                ctr -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> ctr &lt; <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">return</span> ctr == <span class="number">0</span></span><br><span class="line">    level = &#123;s&#125;</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        valid = filter(isvalid, level)</span><br><span class="line">        <span class="keyword">if</span> valid:</span><br><span class="line">            <span class="keyword">return</span> valid</span><br><span class="line">        level = &#123;s[:i] + s[i+<span class="number">1</span>:] <span class="keyword">for</span> s <span class="keyword">in</span> level <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s))&#125;</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Valid-Parenthesis-String"></a></p>
<h3 id="Valid-Parenthesis-String-—leetcode-678"><a href="#Valid-Parenthesis-String-—leetcode-678" class="headerlink" title="Valid-Parenthesis-String —leetcode 678"></a><a href="https://leetcode.com/problems/valid-parenthesis-string/description/" target="_blank" rel="noopener">Valid-Parenthesis-String</a> —leetcode 678</h3><h4 id="题目-42"><a href="#题目-42" class="headerlink" title="题目"></a>题目</h4><p>Given a string containing only three types of characters: ‘(‘, ‘)’ and ‘*’, write a function to check whether this string is valid. We define the validity of a string by these rules:</p>
<ol>
<li>Any left parenthesis ‘(‘ must have a corresponding right parenthesis ‘)’.</li>
<li>Any right parenthesis ‘)’ must have a corresponding left parenthesis ‘(‘.</li>
<li>Left parenthesis ‘(‘ must go before the corresponding right parenthesis ‘)’.</li>
<li>‘*’ could be treated as a single right parenthesis ‘)’ or a single left parenthesis ‘(‘ or an empty string.</li>
<li>An empty string is also valid.<br><code>example</code>:  <code>()</code>,<code>(*</code>,<code>(*)</code> are all valid.<h4 id="思路-40"><a href="#思路-40" class="headerlink" title="思路"></a>思路</h4>根据好括号的判断充要条件：从左往右数，左括号数不少于右括号数，且最终左右括号数相等。在这里，加入了*号，有些难度。可以改进为：<mark>从左往右数，左括号数不大于右括号与*号之和</mark>。比如<code>((*)(*))((*</code>，本来是错的，但会判对，所以要再改进一下， 可以再来一遍从右往左数。<h4 id="代码-41"><a href="#代码-41" class="headerlink" title="代码"></a>代码</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Solution(object):</span><br><span class="line">    def checkValidString(self, s):</span><br><span class="line">        <span class="string">""</span><span class="comment">"</span></span><br><span class="line">        :<span class="built_in">type</span> <span class="variable">s:</span> str</span><br><span class="line">        :rtype: bool</span><br><span class="line">        <span class="string">""</span><span class="comment">" </span></span><br><span class="line">        <span class="keyword">left</span> = <span class="number">0</span> </span><br><span class="line">        <span class="keyword">right</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">star</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i in <span class="variable">s:</span></span><br><span class="line">            <span class="keyword">if</span> i == <span class="string">'('</span>:</span><br><span class="line">                <span class="keyword">left</span> += <span class="number">1</span></span><br><span class="line">            elif i == <span class="string">')'</span>:</span><br><span class="line">                <span class="keyword">right</span> += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">star</span> += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">left</span>+<span class="keyword">star</span> &lt; <span class="keyword">right</span> :</span><br><span class="line">                <span class="keyword">return</span> False</span><br><span class="line">        n = <span class="built_in">len</span>(s) -<span class="number">1</span></span><br><span class="line">        <span class="keyword">left</span> = <span class="keyword">right</span> = <span class="keyword">star</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i in <span class="built_in">range</span>(n,-<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> s[i] == <span class="string">'('</span>:</span><br><span class="line">                <span class="keyword">left</span>+=<span class="number">1</span></span><br><span class="line">            elif s[i] == <span class="string">')'</span>:</span><br><span class="line">                <span class="keyword">right</span>+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">star</span> +=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">left</span>&gt;<span class="keyword">right</span>+<span class="keyword">star</span>:</span><br><span class="line">                <span class="keyword">return</span> False</span><br><span class="line">        <span class="keyword">return</span> True</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="2017-9-21"><a href="#2017-9-21" class="headerlink" title="2017-9-21"></a>2017-9-21</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="24-Game"></a></p>
<h3 id="24-Game-—leetcode-679"><a href="#24-Game-—leetcode-679" class="headerlink" title="24-Game —leetcode 679"></a><a href="https://leetcode.com/problems/24-game/description/" target="_blank" rel="noopener">24-Game</a> —leetcode 679</h3><h4 id="题目-43"><a href="#题目-43" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>You have 4 cards each containing a number from 1 to 9. You need to judge whether they could operated through *, /, +, -, (, ) to get the value of 24.</p>
</blockquote>
<pre><code>`Example 1`:
Input: [4, 1, 8, 7]
Output: True
Explanation: (8-4) * (7-1) = 24
`Example 2`:
Input: [1, 2, 1, 2]
Output: False
</code></pre><p><code>Note</code>:</p>
<pre><code>1. The division operator / represents real division, not integer division. For example, 4 / (1 - 2/3) = 12.
2. Every operation done is between two numbers. In particular, we cannot use - as a unary operator. For example, with [1, 1, 1, 1] as 3. input, the expression -1 - 1 - 1 - 1 is not allowed.
3. You cannot concatenate numbers together. For example, if the input is [1, 2, 1, 2],   we cannot write this as 12 + 12.
</code></pre><h4 id="思路-41"><a href="#思路-41" class="headerlink" title="思路"></a>思路</h4><p>搜索4则运算，与两两结合的所有可能。由于python函数的一等性，写代码很简洁。注意3，3，8，8， 要用浮点数比较来判断是否等于一个浮点数，<code>abs(nums[0] -24)&lt;0.01</code>.还有一点比较坑的是，leetcode上的pythonde <code>/</code>居然是截断除法，调试了很久<span class="github-emoji" title="sob" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f62d.png?v8">&#x1f62d;</span></p>
<h4 id="代码-42"><a href="#代码-42" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">judgePoint24</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.exam(nums,<span class="number">4</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">div</span><span class="params">(a,b)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> abs(b)&lt; <span class="number">0.01</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10000</span></span><br><span class="line">        <span class="keyword">return</span> a/float(b)</span><br><span class="line">    <span class="keyword">from</span> operator <span class="keyword">import</span> mul,add,sub</span><br><span class="line">    ops = [mul,add,sub,div]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exam</span><span class="params">(self,nums,n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">is</span> <span class="number">1</span> :</span><br><span class="line">            <span class="keyword">if</span> abs(nums[<span class="number">0</span>] <span class="number">-24</span>)&lt;<span class="number">0.01</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">for</span> op <span class="keyword">in</span> self.ops:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,n):</span><br><span class="line">                    rst1 = op(nums[i],nums[j])</span><br><span class="line">                    rst2 = op(nums[j],nums[i]) </span><br><span class="line">                    tmp = nums[:]</span><br><span class="line">                    tmp.remove(nums[i])</span><br><span class="line">                    tmp.remove(nums[j])</span><br><span class="line">                    tmp.append(rst1)</span><br><span class="line">                    <span class="keyword">if</span> self.exam(tmp,n<span class="number">-1</span>):</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">if</span> rst1 != rst2:</span><br><span class="line">                        tmp[<span class="number">-1</span>] = rst2</span><br><span class="line">                        <span class="keyword">if</span> self.exam(tmp,n<span class="number">-1</span>):</span><br><span class="line">                            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<p>我拓展了一下，改进了代码，把表达式也打出来了.(这个可以直接提交，能过的)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> mul,add,sub</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">div</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> abs(b)&lt;<span class="number">0.01</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10000</span></span><br><span class="line">    <span class="keyword">return</span> a/float(b)</span><br><span class="line">    </span><br><span class="line">ops = [mul,add,sub,div]</span><br><span class="line">sym = &#123;<span class="string">'mul'</span>:<span class="string">'*'</span>,<span class="string">'sub'</span>:<span class="string">'-'</span>,<span class="string">'div'</span>:<span class="string">'/'</span>,<span class="string">'add'</span>:<span class="string">'+'</span>&#125;</span><br><span class="line">fmt = <span class="string">'(&#123;0&#125;&#123;1&#125;&#123;2&#125;)'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">judgePoint24</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.exam(nums,[],<span class="number">4</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exam</span><span class="params">(self,nums,expr_str,n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">is</span> <span class="number">1</span> :</span><br><span class="line">            <span class="keyword">if</span> abs(nums[<span class="number">0</span>] - <span class="number">24</span>) &lt; <span class="number">0.01</span>:</span><br><span class="line">                <span class="keyword">print</span> expr_str[<span class="number">0</span>]+<span class="string">'=24'</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">else</span>:<span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">for</span> op <span class="keyword">in</span> ops:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,n):</span><br><span class="line">                    rst1 = op(nums[i],nums[j])</span><br><span class="line">                    rst2 = op(nums[j],nums[i]) </span><br><span class="line">                    tmp = nums[:]</span><br><span class="line">                    tmp.remove(nums[i])</span><br><span class="line">                    tmp.remove(nums[j])</span><br><span class="line">                    tmp.append(rst1)</span><br><span class="line">                    expr = expr_str[:]</span><br><span class="line">                    length = len(expr)</span><br><span class="line">                    name = sym[op.__name__]</span><br><span class="line">                    <span class="keyword">if</span> length == <span class="number">1</span>:</span><br><span class="line">                        expr[<span class="number">0</span>] = fmt.format(nums[i],name,expr[<span class="number">0</span>])</span><br><span class="line">                    <span class="keyword">elif</span> length ==<span class="number">0</span>:</span><br><span class="line">                        expr.append(fmt.format(nums[i],name,nums[j]))</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        expr = [fmt.format(expr[<span class="number">0</span>],name,expr[<span class="number">1</span>])]</span><br><span class="line">                    <span class="keyword">if</span> self.exam(tmp,expr,n<span class="number">-1</span>):</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">if</span> rst1 != rst2:</span><br><span class="line">                        expr = expr_str[:]</span><br><span class="line">                        <span class="keyword">if</span> length == <span class="number">1</span>:</span><br><span class="line">                            expr[<span class="number">0</span>] = fmt.format(expr[<span class="number">0</span>],name,nums[i])</span><br><span class="line">                        <span class="keyword">elif</span> length == <span class="number">0</span>:</span><br><span class="line">                            expr.append(fmt.format(nums[j],name,nums[i]))</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            expr = [fmt.format(expr[<span class="number">0</span>],name,expr[<span class="number">1</span>])]            </span><br><span class="line">                        tmp[<span class="number">-1</span>] = rst2</span><br><span class="line">                        <span class="keyword">if</span> self.exam(tmp,expr,n<span class="number">-1</span>):</span><br><span class="line">                            <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure></p>
<h2 id="2017-9-18"><a href="#2017-9-18" class="headerlink" title="2017-9-18"></a>2017-9-18</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="01-Matrix"></a></p>
<h3 id="01-Matrix-—leetcode-542"><a href="#01-Matrix-—leetcode-542" class="headerlink" title="01-Matrix —leetcode 542"></a><a href="https://leetcode.com/problems/01-matrix/description/" target="_blank" rel="noopener">01-Matrix</a> —leetcode 542</h3><h4 id="题目-44"><a href="#题目-44" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Given a matrix consists of 0 and 1, find the distance of the nearest 0 for each cell.<br>The distance between two adjacent cells is 1.</p>
</blockquote>
<pre><code>Input:
0 0 0
0 1 0
1 1 1 

Output:
0 0 0
0 1 0
1 2 1
</code></pre><blockquote>
<p><code>Note</code>:<br>The number of elements of the given matrix will not exceed 10,000.<br>There are at least one 0 in the given matrix.<br>The cells are adjacent in only four directions: up, down, left and righ</p>
</blockquote>
<h4 id="思路-42"><a href="#思路-42" class="headerlink" title="思路"></a>思路</h4><p>由于是找最小的步骤，所以可以采用BFS。最开始我用<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">n1</span> = len(matrix)</span><br><span class="line"><span class="attr">n2</span> = len(matrix[<span class="number">0</span>])</span><br><span class="line"><span class="attr">tmp</span> = [<span class="number">0</span> for k in range(n2)]</span><br><span class="line"><span class="attr">isVisited</span> = [tmp for k in range(n1)]</span><br></pre></td></tr></table></figure></p>
<p>来记录是否访问，结果总出现一些奇怪的错误，打印出来，发现上面的创建列表的方法，会使isVisited的元素萨都是tmp，同样的id。因为tmp使可变的，都是同一列表的引用。<br>可以这样<code>isVisited = [[0]*n2 for i in range(n1)]</code> ，0是基础类型，直接复制，不是引用。<br>为了简便，使用队列保持有序。为了记录移动的步数，我没有写一个类，而是让用另一个队列与队列列表形成映射。</p>
<h4 id="代码-43"><a href="#代码-43" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">updateMatrix</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type matrix: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line">        ans=[]</span><br><span class="line">        n1 = len(matrix)</span><br><span class="line">        n2 = len(matrix[<span class="number">0</span>])</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(i,j)</span>:</span></span><br><span class="line">            num = deque([<span class="number">0</span>])</span><br><span class="line">            que = deque([(i,j)])</span><br><span class="line"><span class="comment"># notice that the initialization of deque should pass an iterable object ,</span></span><br><span class="line"><span class="comment"># and a tuple should be in a list .</span></span><br><span class="line">            <span class="keyword">while</span> que != []:</span><br><span class="line">                p,q = que.popleft()</span><br><span class="line">                count = num.popleft()</span><br><span class="line">                <span class="keyword">if</span> matrix[p][q] == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">return</span> count</span><br><span class="line">                <span class="keyword">if</span> p&gt;<span class="number">0</span> <span class="keyword">and</span> (p<span class="number">-1</span>,q) <span class="keyword">not</span> <span class="keyword">in</span> que :</span><br><span class="line">                    que.append((p<span class="number">-1</span>,q))</span><br><span class="line">                    num.append(count+<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> p&lt;n1<span class="number">-1</span> <span class="keyword">and</span> (p+<span class="number">1</span>,q) <span class="keyword">not</span> <span class="keyword">in</span> que:</span><br><span class="line">                    que.append((p+<span class="number">1</span>,q))</span><br><span class="line">                    num.append(count+<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> q&gt;<span class="number">0</span> <span class="keyword">and</span> (p,q<span class="number">-1</span>) <span class="keyword">not</span> <span class="keyword">in</span> que:</span><br><span class="line">                    que.append((p,q<span class="number">-1</span>))</span><br><span class="line">                    num.append(count+<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> q&lt;n2<span class="number">-1</span> <span class="keyword">and</span> (p,q+<span class="number">1</span>) <span class="keyword">not</span> <span class="keyword">in</span> que:</span><br><span class="line">                    que.append((p,q+<span class="number">1</span>))</span><br><span class="line">                    num.append(count+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n1):</span><br><span class="line">            ans.append([])</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(n2):</span><br><span class="line">                ans[i].append(search(i,j))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Integer-to-English-Words"></a></p>
<h3 id="Integer-to-English-Words-—leetcode-273"><a href="#Integer-to-English-Words-—leetcode-273" class="headerlink" title="Integer-to-English-Words —leetcode 273"></a><a href="https://leetcode.com/problems/integer-to-english-words/description/" target="_blank" rel="noopener">Integer-to-English-Words</a> —leetcode 273</h3><h4 id="题目-45"><a href="#题目-45" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Convert a non-negative integer to its english words representation. Given input is guaranteed to be less than 231 - 1.</p>
</blockquote>
<pre><code>For example,    
123 -&gt; &quot;One Hundred Twenty Three&quot;
12345 -&gt; &quot;Twelve Thousand Three Hundred Forty Five&quot;
1234567 -&gt; &quot;One Million Two Hundred Thirty Four Thousand Five Hundred Sixty Seven&quot;
</code></pre><h4 id="思路-43"><a href="#思路-43" class="headerlink" title="思路"></a>思路</h4><p>用递归。难点在于十几的数的表示，12不能是ten two。以及要处理好零：比如10000，如果不加判断，直接会得到ten zero thousand zero zero zero。同样的，由于字符串是不可变的，所有、以在过程都使用列表，最后再join。再如100000不能是one milion thousand </p>
<h4 id="代码-44"><a href="#代码-44" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numberToWords</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type num: int</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span>                </span><br><span class="line">        s1 = [<span class="string">'Zero'</span>,<span class="string">'One'</span>,<span class="string">'Two'</span>,<span class="string">'Three'</span>,<span class="string">'Four'</span>,<span class="string">'Five'</span>,<span class="string">'Six'</span>,<span class="string">'Seven'</span>,<span class="string">'Eight'</span>,<span class="string">'Nine'</span>]</span><br><span class="line">        s12 = [<span class="string">'Ten'</span>,<span class="string">'Eleven'</span>,<span class="string">'Twelve'</span>,<span class="string">'Thirteen'</span>,<span class="string">'Fourteen'</span>,<span class="string">'Fifteen'</span>,<span class="string">'Sixteen'</span>,<span class="string">'Seventeen'</span>,<span class="string">'Eighteen'</span>,<span class="string">'Nineteen'</span>]</span><br><span class="line">        s2 = [<span class="string">'Zero'</span>,<span class="string">'Ten'</span>,<span class="string">'Twenty'</span>,<span class="string">'Thirty'</span>,<span class="string">'Forty'</span>,<span class="string">'Fifty'</span>,<span class="string">'Sixty'</span>,<span class="string">'Seventy'</span>,<span class="string">'Eighty'</span>,<span class="string">'Ninety'</span>]</span><br><span class="line">        s3 = [<span class="string">''</span>,<span class="string">'Thousand'</span>,<span class="string">'Million'</span>,<span class="string">'Billion'</span>]</span><br><span class="line">        <span class="keyword">if</span> num == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'Zero'</span></span><br><span class="line">        num = list(str(num))[::<span class="number">-1</span>]</span><br><span class="line">        ans = []        </span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(s,count,ans)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> s == []:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            n = int(s[<span class="number">0</span>])</span><br><span class="line">            <span class="keyword">del</span> s[<span class="number">0</span>]</span><br><span class="line">            parse(s,count+<span class="number">1</span>,ans)</span><br><span class="line">            <span class="keyword">if</span> count%<span class="number">3</span> == <span class="number">2</span> <span class="keyword">and</span> n <span class="keyword">is</span> <span class="keyword">not</span> <span class="number">0</span>:</span><br><span class="line">                ans.append(s2[n])</span><br><span class="line">            <span class="keyword">else</span> :</span><br><span class="line">                <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span>  count <span class="keyword">in</span> [<span class="number">4</span>,<span class="number">7</span>,<span class="number">11</span>] <span class="keyword">and</span>  ans[<span class="number">-1</span>] <span class="keyword">not</span> <span class="keyword">in</span> s3:</span><br><span class="line">                        ans.append(s3[(count<span class="number">-1</span>)/<span class="number">3</span>])</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                ans.append(s1[n])</span><br><span class="line">                <span class="keyword">if</span>  count % <span class="number">3</span> == <span class="number">0</span>:</span><br><span class="line">                    ans.append(<span class="string">'Hundred'</span>)</span><br><span class="line">                <span class="keyword">elif</span> count%<span class="number">3</span> == <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">if</span> n <span class="keyword">is</span> <span class="keyword">not</span> <span class="number">0</span> <span class="keyword">and</span> len(ans)&gt;<span class="number">1</span> <span class="keyword">and</span> ans[<span class="number">-2</span>] ==<span class="string">'Ten'</span>:</span><br><span class="line">                        <span class="keyword">del</span> ans[<span class="number">-1</span>]</span><br><span class="line">                        ans[<span class="number">-1</span>] = s12[n]</span><br><span class="line">                    <span class="keyword">if</span>  count &gt; <span class="number">1</span>:ans.append(s3[(count<span class="number">-1</span>)/<span class="number">3</span>])</span><br><span class="line">         </span><br><span class="line">        parse(num,<span class="number">1</span>,ans)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">' '</span>.join(ans)</span><br></pre></td></tr></table></figure>
<h2 id="2017-9-12"><a href="#2017-9-12" class="headerlink" title="2017-9-12"></a>2017-9-12</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Insert-Interval"></a></p>
<h3 id="Insert-Interval-—leetcode-57"><a href="#Insert-Interval-—leetcode-57" class="headerlink" title="Insert-Interval —leetcode 57"></a><a href="https://leetcode.com/problems/insert-interval/description/" target="_blank" rel="noopener">Insert-Interval</a> —leetcode 57</h3><h4 id="题目-46"><a href="#题目-46" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Given a set of non-overlapping intervals, insert a new interval into the intervals (merge if necessary).</p>
<p>You may assume that the intervals were initially sorted according to their start times.</p>
<p>Example 1:<br>Given intervals <code>[1,3],[6,9]</code>, insert and merge <code>[2,5]</code> in as <code>[1,5],[6,9]</code>.</p>
<p>Example 2:<br>Given <code>[1,2],[3,5],[6,7],[8,10],[12,16]</code>, insert and merge <code>[4,9] in as [1,2],[3,10],[12,16]</code>.</p>
<p>This is because the new interval <code>[4,9]</code> overlaps with <code>[3,5],[6,7],[8,10]</code>.</p>
</blockquote>
<h4 id="思路-44"><a href="#思路-44" class="headerlink" title="思路"></a>思路</h4><p> 理清思路，显然只有4种情况，即newintreval的<code>start</code>，<code>end</code>分别<mark>在原来的区间</mark>（cross）、 <mark>不在原来区间</mark>（即在两区间之间)，当然，新区间中可能含有若干原来的区间。分类后，为了使原来的第一个和最后一个，与其他区间有同等“地位”，即可以使用同样的代码，我将intervals首尾插入了两个很大的区间。</p>
<h4 id="代码-45"><a href="#代码-45" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## class Interval(object):</span></span><br><span class="line"><span class="comment">## def __init__(self, s=0, e=0):</span></span><br><span class="line"><span class="comment">## self.start = s</span></span><br><span class="line"><span class="comment">## self.end = e</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, intervals, newInterval)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type intervals: List[Interval]</span></span><br><span class="line"><span class="string">        :type newInterval: Interval</span></span><br><span class="line"><span class="string">        :rtype: List[Interval]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        MAX=<span class="number">100000000</span></span><br><span class="line">        first=Interval()</span><br><span class="line">        first.start=first.end=-MAX</span><br><span class="line">        last=Interval</span><br><span class="line">        last.start=last.end=MAX</span><br><span class="line">        intervals.insert(<span class="number">0</span>,first)</span><br><span class="line">        intervals.append(last)</span><br><span class="line">        l = len(intervals)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span>  range(l):</span><br><span class="line">            <span class="keyword">if</span> intervals[i].start&gt;newInterval.start :</span><br><span class="line">                j = i</span><br><span class="line">                isCross = <span class="keyword">False</span></span><br><span class="line">                <span class="keyword">while</span> intervals[j].start&lt;=newInterval.end:</span><br><span class="line">                    <span class="keyword">if</span> intervals[j].end&lt;newInterval.end:</span><br><span class="line">                        <span class="keyword">del</span> intervals[j]</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        isCross = <span class="keyword">True</span></span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> isCross:</span><br><span class="line">                    intervals[j].start=newInterval.start</span><br><span class="line">                <span class="keyword">else</span>:intervals.insert(j,newInterval)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span> :</span><br><span class="line">                <span class="keyword">if</span> intervals[i].end &gt;= newInterval.start:</span><br><span class="line">                    <span class="keyword">if</span> intervals[i].end &gt;= newInterval.end:<span class="keyword">break</span></span><br><span class="line">                    j = i+<span class="number">1</span></span><br><span class="line">                    isCross = <span class="keyword">False</span></span><br><span class="line">                    <span class="keyword">while</span> intervals[j].start&lt;=newInterval.end:</span><br><span class="line">                        <span class="keyword">if</span> intervals[j].end&lt;newInterval.end :</span><br><span class="line">                            <span class="keyword">del</span> intervals[j]</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            isCross = <span class="keyword">True</span></span><br><span class="line">                            <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">if</span> isCross:</span><br><span class="line">                        intervals[j].start=intervals[i].start</span><br><span class="line">                        <span class="keyword">del</span> intervals[i]</span><br><span class="line">                    <span class="keyword">else</span>:intervals[i].end = newInterval.end</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">del</span> intervals[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">del</span> intervals[<span class="number">-1</span>]</span><br><span class="line">        <span class="keyword">return</span> intervals</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="N-Queens"></a></p>
<h3 id="N-Queens-—leetcode-51"><a href="#N-Queens-—leetcode-51" class="headerlink" title="N-Queens  —leetcode 51"></a><a href="https://leetcode.com/problems/n-queens/description/" target="_blank" rel="noopener">N-Queens </a> —leetcode 51</h3><h4 id="题目-47"><a href="#题目-47" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>The n-queens puzzle is the problem of placing n queens on an n×n chessboard such that no two queens attack each other.</p>
<p>Given an integer n, return all distinct solutions to the n-queens puzzle.</p>
<p>Each solution contains a distinct board configuration of the n-queens’ placement, where ‘Q’ and ‘.’ both indicate a queen and an empty space respectively.</p>
<p>For example,<br>There exist two distinct solutions to the 4-queens puzzle:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> [<span class="string">".Q.."</span>,  // Solution <span class="number">1</span></span><br><span class="line">  <span class="string">"...Q"</span>,</span><br><span class="line">  <span class="string">"Q..."</span>,</span><br><span class="line">  <span class="string">"..Q."</span>],</span><br><span class="line"></span><br><span class="line"> [<span class="string">"..Q."</span>,  // Solution <span class="number">2</span></span><br><span class="line">  <span class="string">"Q..."</span>,</span><br><span class="line">  <span class="string">"...Q"</span>,</span><br><span class="line">  <span class="string">".Q.."</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="思路-45"><a href="#思路-45" class="headerlink" title="思路"></a>思路</h4><p> 利用递归，依次摆放第i个皇后，注意要求的返回结果是字符串，imutable，不可变，所以先用列表，然后join</p>
<h4 id="代码-46"><a href="#代码-46" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solveNQueens</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: List[List[str]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rst = []</span><br><span class="line">        nums = [<span class="number">0</span>]*n</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">abs</span><span class="params">(x)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> x</span><br><span class="line">            <span class="keyword">return</span> -x</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(i)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> i == n:</span><br><span class="line">                tmp = []</span><br><span class="line">                <span class="keyword">for</span> count,index <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">                    s = [<span class="string">'.'</span>]*n</span><br><span class="line">                    s[index] = <span class="string">'Q'</span></span><br><span class="line">                    tmp.append(<span class="string">''</span>.join(s))</span><br><span class="line">                rst.append(tmp)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,n):</span><br><span class="line">                ok = <span class="keyword">True</span></span><br><span class="line">                <span class="keyword">for</span> index,k <span class="keyword">in</span> zip(range(i),nums):</span><br><span class="line">                    <span class="keyword">if</span> abs(index-i) == abs(j-k) <span class="keyword">or</span> k == j:</span><br><span class="line">                            ok = <span class="keyword">False</span></span><br><span class="line">                            <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> ok:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                nums[i] = j</span><br><span class="line">                find(i + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        find(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-8-31"><a href="#2017-8-31" class="headerlink" title="2017-8-31"></a>2017-8-31</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="八数码"></a></p>
<h3 id="八数码-—ustc-oj"><a href="#八数码-—ustc-oj" class="headerlink" title="八数码  —ustc-oj"></a>八数码  —<a href="https://www.ustcoj.com/#/" target="_blank" rel="noopener">ustc-oj</a></h3><h4 id="题目-48"><a href="#题目-48" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>3×3九宫棋盘，放置数码为1-8的8个棋牌，剩下一个空格，只能通过棋牌向空格的移动来改变棋盘的布局。要求：根据给定初始布局，问：至少移动几次才能从初始布局到达目标布局。</p>
<p>目标布局如下：876543210  (九宫格依次从上到下，从左到右)<br>Input Description</p>
<p>3行，每行3个0-8的不重复整数，其中0表示空格所在的位置，数字间用空格隔开，表示初始布局，数据保证该初始布局一定能移到目标布局。<br>Output Description</p>
<p>一个整数，表示最少移动到目标布局的次数。<br>eg<br>input:0 7 6 8 4 3 5 2 1<br>output:4</p>
</blockquote>
<h4 id="思路-46"><a href="#思路-46" class="headerlink" title="思路"></a>思路</h4><p> 这道题是搜索题，而且是广搜，需要一个队列来存放状态，我为了简便，就用的一个数组，容量是所有可能的状态数，即9! = 362800 。为了减少储存量，我将每个状态储存为一个长度为9的字符串，为了能一一映射，可以使用<a href="https://zh.wikipedia.org/wiki/%E5%BA%B7%E6%89%98%E5%B1%95%E5%BC%80" target="_blank" rel="noopener">Cantor(康托展开)</a>,注意cantor函数的实现，当前数字的系数是它右边比它小的数字的个数（当然也可以是左边，不过是顺序反过来而已）。<br>若想提高搜索效率，可以用A*算法，启发式搜索，可以看<a href="http://www.cnblogs.com/luxiaoxun/archive/2012/08/05/2624115.html" target="_blank" rel="noopener">这篇文章</a>里面还用了，双向搜索。</p>
<h4 id="代码-47"><a href="#代码-47" class="headerlink" title="代码"></a>代码</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ALL 362880</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> fac[<span class="number">9</span>]=&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">120</span>,<span class="number">720</span>,<span class="number">5040</span>,<span class="number">40320</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> flag[ALL];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> g;    <span class="comment">//steps</span></span><br><span class="line">    <span class="keyword">int</span> zero;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">9</span>];</span><br><span class="line">    <span class="keyword">char</span> last;</span><br><span class="line">&#125;;</span><br><span class="line">node states[ALL];</span><br><span class="line">node *head = states;</span><br><span class="line">node *tail;</span><br><span class="line"></span><br><span class="line"><span class="comment">//notice how to get cantor func</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cantor</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">9</span>;++i)&#123;</span><br><span class="line">        <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j= i+<span class="number">1</span>;j &lt; <span class="number">9</span> ;++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[j] &lt; s[i])&#123;</span><br><span class="line">                ++ n;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sum += n * fac[<span class="number">8</span>-i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(states,<span class="number">0</span>,<span class="keyword">sizeof</span>(node)*ALL);</span><br><span class="line">    <span class="built_in">memset</span>(flag,<span class="number">0</span>,<span class="keyword">sizeof</span>(flag));</span><br><span class="line">    flag[cantor(s)] = <span class="number">1</span>;</span><br><span class="line">    tail = head+<span class="number">1</span>;</span><br><span class="line">    head -&gt; g = <span class="number">0</span>;</span><br><span class="line">    head -&gt;last = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;<span class="number">9</span>;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'0'</span>)&#123;</span><br><span class="line">            head -&gt; zero = i;</span><br><span class="line">        &#125;</span><br><span class="line">        head-&gt;s[i] = s[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">move</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(head!=tail)&#123;</span><br><span class="line">        node *tmp = head;</span><br><span class="line">        ++head;</span><br><span class="line">        <span class="keyword">if</span>(cantor(tmp-&gt;s) == ALL)</span><br><span class="line">            <span class="keyword">return</span> tmp -&gt; g;</span><br><span class="line">        flag[cantor(tmp -&gt; s)] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> dir[<span class="number">4</span>] = &#123;<span class="number">-3</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">-1</span>&#125;;</span><br><span class="line">        <span class="keyword">if</span>(tmp -&gt; last!= <span class="number">-1</span>)</span><br><span class="line">            dir[tmp-&gt; last] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(tmp -&gt; zero &lt; <span class="number">3</span>) dir[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(tmp -&gt; zero &gt; <span class="number">5</span>) dir[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>((tmp -&gt; zero) %<span class="number">3</span> == <span class="number">0</span>) dir[<span class="number">3</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>((tmp -&gt; zero) %<span class="number">3</span> == <span class="number">2</span>) dir[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>;++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(dir[i] != <span class="number">0</span>)&#123;</span><br><span class="line">                *tail = * tmp;</span><br><span class="line">                <span class="keyword">int</span> p = tail -&gt;zero;</span><br><span class="line">                tail -&gt; zero = p + dir[i];</span><br><span class="line">                tail -&gt; s[p] = tmp -&gt; s[p+dir[i]];</span><br><span class="line">                tail -&gt; s[p+dir[i]] = <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">int</span> pn = cantor(tail -&gt; s);</span><br><span class="line">                <span class="keyword">if</span>(flag[pn] == <span class="number">0</span>)&#123;</span><br><span class="line">                    tail -&gt; g += <span class="number">1</span>;</span><br><span class="line">                    tail-&gt;last = (<span class="number">2</span>+i)%<span class="number">4</span>;  <span class="comment">//下一次不能返回,即移动（2+i）%4</span></span><br><span class="line">                    ++tail;</span><br><span class="line">                    flag[pn] = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">readChar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c =<span class="string">' '</span>;</span><br><span class="line">    <span class="keyword">while</span> (c==<span class="string">' '</span> || c== <span class="string">'\n'</span>)</span><br><span class="line">        c=getchar();</span><br><span class="line">    <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="comment">// char s[10] = "876543210";</span></span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">9</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ;i&lt;<span class="number">9</span>;++i)&#123;</span><br><span class="line">        s[i] = readChar();</span><br><span class="line">    &#125;</span><br><span class="line">    init(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,move());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2017-8-23"><a href="#2017-8-23" class="headerlink" title="2017-8-23"></a>2017-8-23</h2><p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Nth-digit"></a></p>
<h3 id="Nth-digit-—leetcode-400"><a href="#Nth-digit-—leetcode-400" class="headerlink" title="Nth-digit —leetcode 400"></a><a href="https://leetcode.com/problems/nth-digit/description/" target="_blank" rel="noopener">Nth-digit</a> —leetcode 400</h3><h4 id="题目-49"><a href="#题目-49" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Find the n<sup>th</sup> digit of the infinite integer sequence 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,<br>Note:<br>n is positive and will fit within the range of a 32-bit signed integer (n &lt; 2<sup>31</sup>).</p>
<p>example:<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line"><span class="number">11</span></span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line"><span class="number">0</span></span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">The <span class="number">11</span>th digit <span class="keyword">of</span> <span class="keyword">the</span> sequence <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, ... is <span class="keyword">a</span> <span class="number">0</span>, which is part <span class="keyword">of</span> <span class="keyword">the</span> <span class="built_in">number</span> <span class="number">10.</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="思路-47"><a href="#思路-47" class="headerlink" title="思路"></a>思路</h4><p>这道题和前面的<a href="#Roman">Integer to Roman</a> 方法类似，要根据n的范围来划分不同的结构，这里就是一个数字的位数，9 , 90 <em> 2, 900 </em> 3,… 找到n在的“区间”，然后即找出这个区间的某个数，这个数的某位（digit）</p>
<h4 id="代码-48"><a href="#代码-48" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findNthDigit</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">9</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        begin = <span class="number">0</span> </span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &gt;= begin:</span><br><span class="line">            begin += <span class="number">9</span> * (<span class="number">10</span> **num) *(num + <span class="number">1</span>)</span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line">        begin  -=  <span class="number">9</span> * (<span class="number">10</span>**(num<span class="number">-1</span>))*num</span><br><span class="line">        <span class="keyword">if</span> n == begin :</span><br><span class="line">            <span class="keyword">return</span> <span class="number">9</span></span><br><span class="line">        n -= begin</span><br><span class="line">        tmp  = int((n<span class="number">-1</span>)/ num) + <span class="number">1</span> + int(<span class="string">"9"</span>*(num <span class="number">-1</span>))  <span class="comment">#floor </span></span><br><span class="line">        n = (n<span class="number">-1</span>) % num </span><br><span class="line">        <span class="keyword">return</span> int(str(tmp)[n])</span><br></pre></td></tr></table></figure>
<p> <img src="/uploads/divider.png" alt="divider"><br> <a id="Single-Number"></a></p>
<h3 id="Single-Number-—leetcode-136"><a href="#Single-Number-—leetcode-136" class="headerlink" title="Single-Number —leetcode 136"></a><a href="https://leetcode.com/problems/single-number/description/" target="_blank" rel="noopener">Single-Number</a> —leetcode 136</h3><h4 id="题目-50"><a href="#题目-50" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Given an array of integers, every element appears twice except for one. Find that single one.</p>
<p>Note:<br>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p>
</blockquote>
<p>Question 2: How about every element appearing tree times except for one?<br>Question 3: 一列数中, 除了两个数只出现一次, 其他数都出现两次, 找出这两个数</p>
<h4 id="思路-48"><a href="#思路-48" class="headerlink" title="思路"></a>思路</h4><p>如果直接用O(n<sup>2</sup>)会超时，想到用位运算异或XOR(^)就很简单了，几行代码</p>
<p>对于第二个问题, 其他数字出现了三次的数字, 只有一个数字出现了一次</p>
<p>可以用两个数字来记录, 一个记录当前所有数字出现一次的异或值, 第二个记录当前数字出现两次的异或值.</p>
<p>对于第三个问题:<br>先全部异或一次, 得到的结果, 考察其的某个非 0 位 (比如最高非 0 位), 那么只出现一次的两个数中, 在这个位上一个为 0, 一个为 1, 由此可以将数组中的元素分成两部分, 重新遍历, 求两个异或值</p>
<h4 id="代码-49"><a href="#代码-49" class="headerlink" title="代码"></a>代码</h4><p>第一问<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            num ^= i</span><br><span class="line">        <span class="keyword">return</span> num</span><br></pre></td></tr></table></figure></p>
<p>第二问:其他数字出现３次, 只有一个出现1次<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        once,twice = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            once = ~twice &amp; (once^i)</span><br><span class="line">            twice = ~once &amp;(twice ^i)</span><br><span class="line">        <span class="keyword">return</span> once</span><br></pre></td></tr></table></figure></p>
<p>第三问<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        acc = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            acc ^=i</span><br><span class="line">        n = len(bin(acc))<span class="number">-3</span></span><br><span class="line">        a,b=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> i&gt;&gt;n&amp;<span class="number">1</span>:</span><br><span class="line">                a^=i</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                b^=i</span><br><span class="line">        <span class="keyword">return</span> b,a</span><br></pre></td></tr></table></figure></p>
<h2 id="2017-8-22"><a href="#2017-8-22" class="headerlink" title="2017-8-22"></a>2017-8-22</h2><p>  <img src="/uploads/divider.png" alt="divider"><br> <a id="ZigZag-Conversion"></a></p>
<h3 id="ZigZag-Conversion-—leetcode-6"><a href="#ZigZag-Conversion-—leetcode-6" class="headerlink" title="ZigZag-Conversion —leetcode 6"></a><a href="https://leetcode.com/problems/zigzag-conversion/description/" target="_blank" rel="noopener">ZigZag-Conversion</a> —leetcode 6</h3><h4 id="题目-51"><a href="#题目-51" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>The string “asdfghjklqw” is written in a zigzag pattern on a given number of rows like this: (you may want to display this pattern in a fixed font for better legibility) 原题目的例子有点难懂，我就自己举个例子吧   num &gt; =  4<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span>        j </span><br><span class="line">s     h  k</span><br><span class="line">d   g    l  w</span><br><span class="line">f        <span class="selector-tag">q</span> </span><br><span class="line"></span><br><span class="line">return   ajshkdglwfq</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="思路-49"><a href="#思路-49" class="headerlink" title="思路"></a>思路</h4><p>可以发现，第一行和最后一行，字母依次在s中相差一个周期，而其他行，有两个点开始，同样相差一个周期。</p>
<h4 id="代码-50"><a href="#代码-50" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">convert</span><span class="params">(self, s, numRows)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :type numRows: int</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rst = <span class="string">""</span></span><br><span class="line">        l = len(s)</span><br><span class="line">        <span class="keyword">if</span> numRows == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        delta = <span class="number">2</span> * numRows <span class="number">-2</span>   <span class="comment">#period</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(numRows):</span><br><span class="line">            index = i</span><br><span class="line">            index2 = delta - i</span><br><span class="line">            <span class="keyword">while</span> index &lt; l :</span><br><span class="line">                rst += s[index]</span><br><span class="line">                index += delta</span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt; i &lt; numRows - <span class="number">1</span> <span class="keyword">and</span> index2 &lt; l:</span><br><span class="line">                    rst += s[index2]</span><br><span class="line">                    index2 += delta</span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure>
<h2 id="2017-8-20"><a href="#2017-8-20" class="headerlink" title="2017-8-20"></a>2017-8-20</h2><p>  <img src="/uploads/divider.png" alt="divider"><br> <a id="Roman"></a></p>
<h3 id="Integer-to-Roman-—leetcode-13"><a href="#Integer-to-Roman-—leetcode-13" class="headerlink" title="Integer to Roman —leetcode 13"></a><a href="https://leetcode.com/problems/integer-to-roman/description/" target="_blank" rel="noopener">Integer to Roman</a> —leetcode 13</h3><h4 id="题目-52"><a href="#题目-52" class="headerlink" title="题目"></a>题目</h4><p> Given an integer, convert it to a roman numeral.<br>Input is guaranteed to be within the range from 1 to 3999.<br><a href="https://zh.wikipedia.org/wiki/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97#.E6.8B.BC.E5.AF.AB.E8.A6.8F.E5.89.87" target="_blank" rel="noopener">罗马数字</a>的规则如下：</p>
<blockquote>
<p>罗马数字共有7个，即Ⅰ（1）、Ⅴ（5）、Ⅹ（10）、Ⅼ（50）、Ⅽ（100）、Ⅾ（500）和Ⅿ（1000）。按照下述的规则可以表示任意正整数。需要注意的是罗马数字中没有“0”，与进位制无关。一般认为罗马数字只用来记数，而不作演算。</p>
<ol>
<li><strong>重复数次</strong>：一个罗马数字重复几次，就表示这个数的几倍。</li>
<li><strong>右加左减</strong>：<ul>
<li>在较大的罗马数字的右边记上较小的罗马数字，表示大数字加小数字。</li>
<li>在较大的罗马数字的左边记上较小的罗马数字，表示大数字减小数字。</li>
<li>左减的数字有限制，仅限于I、X、C。比如45不可以写成VL，只能是XLV</li>
<li>左减时不可跨越一个位值。比如，99不可以用IC（ {\displaystyle 100-1} 100-1）表示，而是用XCIX（ {\displaystyle [100-10]+[10-1]} [100-10]+[10-1]）表示。（等同于阿拉伯数字每位数字分别表示。）</li>
<li>左减数字必须为一位，比如8写成VIII，而非IIX。</li>
<li>右加数字不可连续超过三位，比如14写成XIV，而非XIIII。（见下方“数码限制”一项。）</li>
</ul>
</li>
<li><strong>加线乘千</strong>：<br> 在罗马数字的上方加上一条横线或者加上下标的Ⅿ，表示将这个数乘以1000，即是原数的1000倍。<br>同理，如果上方有两条横线，即是原数的1000000（ {\displaystyle 1000^{2} } 1000^{2}）倍。</li>
<li><strong>数码限制</strong>：<br> 同一数码最多只能连续出现三次，如40不可表示为XXXX，而要表示为XL。<br>例外：由于IV是古罗马神话主神朱庇特（即IVPITER，古罗马字母里没有J和U）的首字，因此有时用IIII代替IV。</li>
</ol>
</blockquote>
<h4 id="思路-50"><a href="#思路-50" class="headerlink" title="思路"></a>思路</h4><p>这道题还是蛮有意思的，同样用递归的方法，在了解拼写规则后，要从数值范围来判断罗马数字的结构，即取哪个字母？哪种组合？左或是右？<br>孪生题是<a href="https://leetcode.com/problems/roman-to-integer/description/" target="_blank" rel="noopener">Roman to Interger</a>比较简单</p>
<h4 id="代码-51"><a href="#代码-51" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intToRoman</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type num: int</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        dic = &#123;<span class="number">0</span>:<span class="string">''</span>,<span class="number">1</span>:<span class="string">'I'</span>,<span class="number">5</span>:<span class="string">'V'</span>,<span class="number">10</span>:<span class="string">'X'</span>,<span class="number">50</span>:<span class="string">'L'</span>,<span class="number">100</span>:<span class="string">'C'</span>,<span class="number">500</span>:<span class="string">'D'</span>,<span class="number">1000</span>:<span class="string">'M'</span>&#125;</span><br><span class="line">        ks = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">50</span>,<span class="number">100</span>,<span class="number">500</span>,<span class="number">1000</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">convert</span><span class="params">(num)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> num <span class="keyword">in</span> dic.keys():</span><br><span class="line">                <span class="keyword">return</span> dic[num]</span><br><span class="line">            <span class="keyword">if</span> num &gt; <span class="number">1000</span>:</span><br><span class="line">                n = int(num/<span class="number">1000</span>)</span><br><span class="line">                num -= n * <span class="number">1000</span></span><br><span class="line">                <span class="keyword">return</span>  <span class="string">'M'</span>*n + convert(num)</span><br><span class="line">            n = <span class="number">1000</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> ks:</span><br><span class="line">                <span class="keyword">if</span> i &gt; num :</span><br><span class="line">                    n = i</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            exp = <span class="number">1</span></span><br><span class="line">            flag = <span class="keyword">False</span></span><br><span class="line">            <span class="keyword">while</span> exp &lt;= n:   <span class="comment"># judge if n is 10 exp k</span></span><br><span class="line">                <span class="keyword">if</span> exp == n:</span><br><span class="line">                    flag = <span class="keyword">True</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                exp *= <span class="number">10</span></span><br><span class="line">            <span class="keyword">if</span> flag:</span><br><span class="line">                small = n / <span class="number">10</span></span><br><span class="line">                <span class="keyword">if</span> num &gt;= <span class="number">9</span> * small:</span><br><span class="line">                    <span class="keyword">return</span> dic[small] + dic[n] + convert(small -(n-num)) </span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">return</span> dic[n/<span class="number">2</span>] + convert(num - n/<span class="number">2</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                small = n / <span class="number">5</span></span><br><span class="line">                <span class="keyword">if</span> n - small &lt;= num :</span><br><span class="line">                    <span class="keyword">return</span> dic[small] + dic[n] + convert(small - (n-num))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    n2 = int(num / small)</span><br><span class="line">                    num -= n2 * small</span><br><span class="line">                    <span class="keyword">return</span> dic[small] * n2 + convert(num)</span><br><span class="line">        <span class="keyword">return</span> convert(num)</span><br></pre></td></tr></table></figure>
<p><img src="/uploads/divider.png" alt="divider"><br><a id="word-search"></a></p>
<h3 id="word-search-—leetcode-79"><a href="#word-search-—leetcode-79" class="headerlink" title="word-search —leetcode 79"></a><a href="https://leetcode.com/problems/word-search/description/" target="_blank" rel="noopener">word-search</a> —leetcode 79</h3><h4 id="题目-53"><a href="#题目-53" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Given a 2D board and a word, find if the word exists in the grid.</p>
<p>The word can be constructed from letters of sequentially adjacent cell, where “adjacent” cells are those horizontally or vertically neighboring. The same letter cell may not be used more than once.</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">For example,</span><br><span class="line">Given board =</span><br><span class="line">[</span><br><span class="line">  [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'E'</span>],</span><br><span class="line">  [<span class="string">'S'</span>,<span class="string">'F'</span>,<span class="string">'C'</span>,<span class="string">'S'</span>],</span><br><span class="line">  [<span class="string">'A'</span>,<span class="string">'D'</span>,<span class="string">'E'</span>,<span class="string">'E'</span>]</span><br><span class="line">]</span><br><span class="line">word = <span class="string">"ABCCED"</span>, <span class="function">-&gt;</span> returns <span class="literal">true</span>,</span><br><span class="line">word = <span class="string">"SEE"</span>, <span class="function">-&gt;</span> returns <span class="literal">true</span>,</span><br><span class="line">word = <span class="string">"ABCB"</span>, <span class="function">-&gt;</span> returns <span class="literal">false</span>.</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="思路-51"><a href="#思路-51" class="headerlink" title="思路"></a>思路</h4><p>这道题可以用递归函数来解决，注意到，eg从“a” 中判断是否有“aa” ，如果直接递归是返回true的，这不对，要就是说在一次判断中，已判断过的字母不能再判断，所以参数应该还有一个board，记录当前的字母状态，考虑到python是用的引用，传递参数时没有复制，我又不想额外再去复制board，就在函数中记下当前位置的字母，在函数调用结束再改回来的。哈哈！</p>
<h4 id="代码-52"><a href="#代码-52" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exist</span><span class="params">(self, board, word)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type board: List[List[str]]</span></span><br><span class="line"><span class="string">        :type word: str</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        row = len(board)</span><br><span class="line">        col = len(board[<span class="number">0</span>])</span><br><span class="line">        num = len(word)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(r,c,n)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> n == num<span class="number">-1</span> <span class="keyword">and</span> board[r][c] == word[n]:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">if</span> board[r][c] != word[n] <span class="keyword">or</span> n == num<span class="number">-1</span>:</span><br><span class="line">                <span class="keyword">return</span>  <span class="keyword">False</span></span><br><span class="line">            tmp = board[r][c]    <span class="comment">#save  the  val</span></span><br><span class="line">            board[r][c] = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> r &lt; row<span class="number">-1</span> <span class="keyword">and</span> find(r+<span class="number">1</span>,c,n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">if</span> r &gt; <span class="number">0</span> <span class="keyword">and</span> find(r<span class="number">-1</span>,c,n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">if</span> c &lt;col<span class="number">-1</span> <span class="keyword">and</span> find(r,<span class="number">1</span>+c,n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            <span class="keyword">if</span> c &gt; <span class="number">0</span> <span class="keyword">and</span> find(r,c<span class="number">-1</span>,n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">            board[r][c] = tmp</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(row):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(col):</span><br><span class="line">                <span class="keyword">if</span> find(i,j,<span class="number">0</span>):</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br></pre></td></tr></table></figure>
<h2 id="2017-8-19"><a href="#2017-8-19" class="headerlink" title="2017-8-19"></a>2017-8-19</h2><p><img src="/uploads/divider.png" alt="divider"></p>
<p><a id="3Sum"></a></p>
<h3 id="3Sum-—leetcode-15"><a href="#3Sum-—leetcode-15" class="headerlink" title="3Sum  —leetcode 15"></a><a href="https://leetcode.com/problems/3sum/description/" target="_blank" rel="noopener">3Sum</a>  —leetcode 15</h3><h4 id="题目-54"><a href="#题目-54" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Given an array S of n integers, are there elements a, b, c in S such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero.<br>Note: The solution set must not contain duplicate triplets.<br><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">For example, given<span class="built_in"> array </span>S = [-1, 0, 1, 2, -1, -4],</span><br><span class="line"></span><br><span class="line">A solution set is:</span><br><span class="line">[</span><br><span class="line">  [-1, 0, 1],</span><br><span class="line">  [-1, -1, 2]</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h4 id="思路-52"><a href="#思路-52" class="headerlink" title="思路"></a>思路</h4><p>最开始我想的就直接3重循环，再加判重的循环，暴力求解，当然超时了，要高于O(n<sup>3</sup>)。后来想到可以将正负数，0，分成三组来组合，然而最后两个数据过不了，在网上搜了一下，可以固定一个数，头尾双指针来移动，这是O(n<sup>2</sup>)。哎，折腾了一晚上，我好菜啊</p>
<h4 id="代码-53"><a href="#代码-53" class="headerlink" title="代码"></a>代码</h4><p>分成正负0三组，写了很多判断语句，唉，庸俗的代码。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeSum</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        </span><br><span class="line">        rst = []</span><br><span class="line">        zero = []   <span class="comment">#zeros</span></span><br><span class="line">        neg = []    <span class="comment">#negative</span></span><br><span class="line">        pos = []    <span class="comment">#positive</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> (nums):</span><br><span class="line">            <span class="keyword">if</span> i &lt; <span class="number">0</span>:</span><br><span class="line">                neg.append(i)</span><br><span class="line">            <span class="keyword">elif</span> i &gt; <span class="number">0</span>:</span><br><span class="line">                pos.append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                zero.append(i)</span><br><span class="line">        <span class="keyword">if</span> len(zero) &gt; <span class="number">2</span>:</span><br><span class="line">            rst.append([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> neg == []  <span class="keyword">or</span>  pos == []:</span><br><span class="line">            <span class="keyword">return</span> rst</span><br><span class="line">        <span class="keyword">if</span> zero != []:</span><br><span class="line">            <span class="keyword">if</span> len(neg) &gt; len(pos):</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> pos:</span><br><span class="line">                    <span class="keyword">if</span> -i <span class="keyword">in</span> neg:</span><br><span class="line">                        rst.append([-i,<span class="number">0</span>,i])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> neg:</span><br><span class="line">                    <span class="keyword">if</span> -i <span class="keyword">in</span> pos:</span><br><span class="line">                        rst.append([i,<span class="number">0</span>,-i])</span><br><span class="line">        pos.sort()</span><br><span class="line">        neg.sort()</span><br><span class="line">        <span class="keyword">if</span> len(pos) == <span class="number">1</span> <span class="keyword">and</span> len(neg) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> rst</span><br><span class="line">        <span class="keyword">elif</span> len(pos) == <span class="number">1</span> :</span><br><span class="line">            tmp = len(neg) - <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> tmp &gt; <span class="number">0</span>:</span><br><span class="line">                sum = neg[tmp] + neg[tmp<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">if</span> sum == - pos[<span class="number">0</span>]:</span><br><span class="line">                    rst.append([neg[tmp<span class="number">-1</span>],neg[tmp],pos[<span class="number">0</span>]])</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> sum &lt; - pos[<span class="number">0</span>]:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                tmp -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> len(neg) == <span class="number">1</span>:</span><br><span class="line">            tmp = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> tmp &lt; len(pos) - <span class="number">1</span> :</span><br><span class="line">                sum = pos[tmp] + pos[tmp+<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> sum == - neg[<span class="number">0</span>]:</span><br><span class="line">                    rst.append([neg[<span class="number">0</span>],pos[tmp],pos[tmp+<span class="number">1</span>]])</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> sum &gt; - neg[<span class="number">0</span>]:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                tmp -= <span class="number">1</span></span><br><span class="line">        sameI = []     <span class="comment">#avoid test several same num</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pos)<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> sameI:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            sameI.append(i)</span><br><span class="line">            sameJ=[]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,len(pos)):</span><br><span class="line">                <span class="keyword">if</span> j <span class="keyword">in</span> sameJ:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                sameJ.append(j)</span><br><span class="line">                sum = pos[i] + pos[j]</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> neg:</span><br><span class="line">                    <span class="keyword">if</span>   sum &gt; -k:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">elif</span> sum == -k:</span><br><span class="line">                        rst.append([k,pos[i],pos[j]])</span><br><span class="line">        sameI = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(neg)<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> sameI:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            sameI.append(i)</span><br><span class="line">            sameJ=[]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,len(neg)):</span><br><span class="line">                <span class="keyword">if</span> j <span class="keyword">in</span> sameJ:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                sameJ.append(j)</span><br><span class="line">                sum = neg[i] + neg[j]</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> pos:</span><br><span class="line">                    <span class="keyword">if</span>   sum &gt; -k:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">elif</span> sum == -k:</span><br><span class="line">                        rst.append([neg[i],neg[j],k])</span><br><span class="line">        fnl = []   </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> rst:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> fnl:</span><br><span class="line">                fnl.append(i)</span><br><span class="line">        <span class="keyword">return</span> fnl</span><br></pre></td></tr></table></figure></p>
<h4 id="代码-54"><a href="#代码-54" class="headerlink" title="代码"></a>代码</h4><p>头尾双指针，过了，注意判重的方法，前一个用的if，后面在找到答案时用while<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeSum</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        rst=[]</span><br><span class="line">        nums.sort()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)<span class="number">-2</span>):</span><br><span class="line">            <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> nums[i] == nums[i<span class="number">-1</span>]:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            head = i+<span class="number">1</span></span><br><span class="line">            tail = len(nums) - <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> head &lt; tail:</span><br><span class="line">                <span class="keyword">if</span> nums[i] + nums[head] + nums[tail]  == <span class="number">0</span>:</span><br><span class="line">                    rst.append([nums[i],nums[head],nums[tail]])</span><br><span class="line">                    head += <span class="number">1</span></span><br><span class="line">                    tail -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">while</span> head&lt; tail <span class="keyword">and</span> nums[head] == nums[head <span class="number">-1</span>]:</span><br><span class="line">                        head += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">while</span> head&lt;tail <span class="keyword">and</span>  tail &lt; len(nums)<span class="number">-1</span> <span class="keyword">and</span> nums[tail]== nums[tail +<span class="number">1</span>]:</span><br><span class="line">                        tail -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">elif</span> nums[i] + nums[head] + nums[tail]  &lt; <span class="number">0</span>:</span><br><span class="line">                    head += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    tail -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> rst</span><br></pre></td></tr></table></figure></p>
<h2 id="2017-8-17"><a href="#2017-8-17" class="headerlink" title="2017-8-17"></a>2017-8-17</h2><p><img src="/uploads/divider.png" alt="divider"><br><a id="jump-game"></a></p>
<h3 id="jump-game-—leetcode-55"><a href="#jump-game-—leetcode-55" class="headerlink" title="jump-game  —leetcode 55"></a><a href="https://leetcode.com/problems/jump-game/description/" target="_blank" rel="noopener">jump-game</a>  —leetcode 55</h3><h4 id="题目-55"><a href="#题目-55" class="headerlink" title="题目    "></a>题目    <br></h4><blockquote>
<p>Given an array of non-negative integers, you are initially positioned at the first index of the array.<br>Each element in the array represents your maximum jump length at that position.<br>Determine if you are able to reach the last index.  </p>
<p>For example:<br>A = [2,3,1,1,4], return true.<br>A = [3,2,1,0,4], return false.      </p>
</blockquote>
<h4 id="思路-53"><a href="#思路-53" class="headerlink" title="思路"></a>思路</h4><p>由于只有非负数，不能成功的点一定是当前位置为0，所以可以将列表中所以的0找出来，并记下位置（下标），然后从这个位置开始往前搜索，若存在能跳过此位置的点，则能跳过，去除这个0，一直跳过所有0</p>
<p><br></p>
<h4 id="代码-55"><a href="#代码-55" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">canJump</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type nums: List[int]</span></span><br><span class="line"><span class="string">    :rtype: bool</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> len(nums) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">    zeros = []</span><br><span class="line">    <span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">        <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">            zeros.append(i)</span><br><span class="line">    <span class="keyword">while</span> zeros != []:</span><br><span class="line">        i = zeros[<span class="number">0</span>]</span><br><span class="line">        tmp = i - <span class="number">1</span></span><br><span class="line">        flag = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> tmp &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> nums[tmp] &gt; i-tmp  <span class="keyword">or</span> nums[tmp]+tmp+<span class="number">1</span> &gt;=len(nums):</span><br><span class="line">                flag = <span class="number">1</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            tmp -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> flag == <span class="number">0</span> :</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">        <span class="keyword">del</span> zeros[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<p><img src="/uploads/divider.png" alt="divider"></p>
<p><a id="super-pow"></a></p>
<h3 id="super-pow-—leetcode-372"><a href="#super-pow-—leetcode-372" class="headerlink" title="super-pow  —leetcode 372"></a><a href="https://leetcode.com/problems/super-pow/description/" target="_blank" rel="noopener">super-pow</a>  —leetcode 372</h3><h4 id="题目-56"><a href="#题目-56" class="headerlink" title="题目"></a>题目</h4><blockquote>
<p>Your task is to calculate a<sup>b</sup> mod 1337 where a is a positive integer and b is an extremely large positive integer given in the form of an array.  </p>
<p>Example1:<br> a = 2<br>b = [3]<br> Result: 8   </p>
<p>Example2:<br>a = 2<br>b = [1,0]<br>Result: 1024</p>
</blockquote>
<h4 id="思路-54"><a href="#思路-54" class="headerlink" title="思路"></a>思路</h4><p>这道题显然不能直接计算，可以用欧拉定理<br>对任意正整数a,正整数m,(a,m) = 1,&fnof;(m) 为比m小的与m互质的(注意不一定是质数)正整数的个数，<br>则 a<sup>&fnof;(m)</sup> &equiv; 1 (mod m) 。<br>再利用性质： a &equiv; b (mod m) ,c &equiv; d (mod m) ,则ac &equiv; bd (mod m)<br>证明就不写了，打数学符号太累了（T<sub>^</sub>T）,给个传送门吧—&gt; <a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86_(%E6%95%B0%E8%AE%BA" target="_blank" rel="noopener">欧拉定理</a>)</p>
<h4 id="代码-56"><a href="#代码-56" class="headerlink" title="代码"></a>代码</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">superPow</span><span class="params">(self, a, b)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type a: int</span></span><br><span class="line"><span class="string">        :type b: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        m = <span class="number">1337</span></span><br><span class="line">        <span class="keyword">if</span> a % m == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> b:</span><br><span class="line">            sum = <span class="number">10</span> * sum + i    </span><br><span class="line">        phi = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,m):</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">7</span> != <span class="number">0</span>) <span class="keyword">and</span> (i % <span class="number">191</span> != <span class="number">0</span>):</span><br><span class="line">                phi += <span class="number">1</span></span><br><span class="line">        sum = sum % phi</span><br><span class="line">        <span class="keyword">return</span> (a**sum) % <span class="number">1337</span></span><br><span class="line"><span class="comment"># if m a prime num ,use the small law of Fermat</span></span><br><span class="line"><span class="comment"># else use the law of Euler</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    


  
</article>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"leetcode　| mbinary's blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
        <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>

<!--<script src="//cdn.jsdelivr.net/npm/leancloud-storage@latest/dist/av-min.js"></script>
<script src='//cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js'></script>-->

<div id="vcomments"></div>
<script>
    var notify = false == true ? true : false;
    var verify = false == true ? true : false;
    var visitor = true == true ? true : false;
new Valine({
    el: '#vcomments',
    notify: notify,
    verify: verify,
    appId: 'ArpEYbLUBmpXK3f245hKNu4A-gzGzoHsz',
    appKey: 'X5cHcMU1ATb8q0prtPGEqIPX',
    lang: 'en',
    placeholder: '留下你的小脚印^_^ (支持 markdown, 上面三项 昵称,邮件(可用于回复),网址都是可选填的)',
    avatar: 'monsterid',
    pageSize: 10,
    visitor: visitor
    });
</script>

    





    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2017-2019 mbinary
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
    </div>
</footer>

    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
            
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
<!-->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<--!>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
